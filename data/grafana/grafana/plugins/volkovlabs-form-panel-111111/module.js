/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/ui","react","@grafana/runtime","rxjs","@emotion/css","redux","react-redux","react-dom"],((e,t,n,r,a,i,o,l,d)=>(()=>{var s={944:(e,t)=>{"use strict";t.r=(e,t=[])=>n=>Object.entries(e).reduce(((e,[r,a])=>({...e,[r]:(e=!1,...i)=>{const o="function"==typeof a?a(...i):a;return o.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(o):n.getByTestId(o):e?n.queryByLabelText(o):n.getByLabelText(o)}})),{})},42:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},644:e=>{"use strict";e.exports=i},305:t=>{"use strict";t.exports=e},545:e=>{"use strict";e.exports=r},388:e=>{"use strict";e.exports=t},650:e=>{"use strict";e.exports=n},729:e=>{"use strict";e.exports=d},929:e=>{"use strict";e.exports=l},129:e=>{"use strict";e.exports=o},177:e=>{"use strict";e.exports=a}},u={};function c(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return s[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{"use strict";c.r(p),c.d(p,{plugin:()=>tl});var e=c(305),t=c(388),n=c(650),r=c.n(n),a=c(545);const i=e=>e.charAt(0).toUpperCase()+e.slice(1);var o;!function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.DESTRUCTIVE="destructive",e.CUSTOM="custom",e.HIDDEN="hidden"}(o||(o={}));const l=[{value:"hidden",label:i("hidden")}],d=[{value:"primary",label:i("primary")},{value:"secondary",label:i("secondary")},{value:"destructive",label:i("destructive")},{value:"custom",label:i("custom")}];var s;!function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(s||(s={}));const u=[{value:"left",label:i("left")},{value:"center",label:i("center")},{value:"right",label:i("right")}];var f;!function(e){e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg"}(f||(f={}));const m=[{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"}];var g;!function(e){e.JAVASCRIPT="javascript",e.JSON="json"}(g||(g={}));const b=[{value:"javascript",label:"Javascript"},{value:"json",label:"JSON"}],v=[{label:"options",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Panels' options."},{label:"data",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Result set of panel queries."},{label:"response",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Request's response"},{label:"initial",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Parsed values from the Initial Request."},{label:"elements",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Form Elements."},{label:"locationService",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Allows to work with browser location and history."},{label:"templateService",kind:t.CodeEditorSuggestionItemKind.Property,detail:"Provides access to variables and allows to update Time Range."},{label:"onOptionsChange",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Change handler to refresh panel."},{label:"initialRequest",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Perform the Initial Request to reload panel."},{label:"setInitial",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Allows to specify the initial values."},{label:"notifySuccess",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Display successful notification."},{label:"notifyError",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Display error notification."},{label:"notifyWarning",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Display warning notification."},{label:"toDataQueryResponse",kind:t.CodeEditorSuggestionItemKind.Method,detail:"Parse the results from /api/ds/query."}],h={Breadcrumbs:{breadcrumb:e=>`data-testid ${e} breadcrumb`},TimePicker:{openButton:"data-testid TimePicker Open Button",fromField:"Time Range from field",toField:"Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"Time Range calendar",openButton:"Open time range calendar",closeButton:"Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSourcePermissions:{form:()=>'form[name="addPermission"]',roleType:"Role to add new permission to",rolePicker:"Built-in role picker",permissionLevel:"Permission Level"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`Panel header item ${e}`,menuItems:e=>`data-testid Panel menu item ${e}`,menu:e=>`data-testid Panel menu ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`,loadingBar:()=>"Panel loading bar",HoverWidget:{container:"data-testid hover-header-container",dragIcon:"data-testid drag-icon"}},Visualization:{Graph:{container:"Graph container",VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer"}}},VizLegend:{seriesName:e=>`VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".rc-drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"data-testid toggle-viz-picker",toggleVizOptions:"data-testid toggle-viz-options",toggleTableView:"toggle-table-view",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"Rich history button",addQuery:"Query editor add query button"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`${e}`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"Transform editor tab content",newTransform:e=>`New transform ${e}`,transformationEditor:e=>`Transformation editor ${e}`,transformationEditorDebugger:e=>`Transformation editor debugger ${e}`},Transforms:{card:e=>`New transform ${e}`,Reduce:{modeLabel:"Transform mode label",calculationsLabel:"Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"search transformations"},NavBar:{Configuration:{button:"Configuration"},Toggle:{button:"Toggle menu"},Reporting:{button:"Reporting"}},NavMenu:{item:"data-testid Nav menu item"},NavToolbar:{container:"data-testid Nav toolbar"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`,itemButton:e=>`data-testid ${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"data-testid Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:e=>`Value picker button ${e}`,select:e=>`Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${h.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,folderHeader:e=>`data-testid Folder header ${e}`,folderContent:e=>`data-testid Folder content ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table"},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"},OrgRolePicker:{input:"Role"},AnalyticsToolbarButton:{button:"Dashboard insights"},Variables:{variableOption:"data-testid variable-option"},Annotations:{annotationsTypeInput:"annotations-type-input",annotationsChoosePanelInput:"choose-panels-input"}},y={pages:{Login:{url:"/login",username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"},Home:{url:"/"},DataSource:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"Data source settings page read only message",saveAndTest:"data-testid Data source settings page Save and Test button",alert:"Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},EditDataSource:{url:e=>`/datasources/edit/${e}`,settings:"Datasource settings page basic settings"},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add new data source ${e}`},ConfirmModal:{delete:"data-testid Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",itemButton:e=>`data-testid ${e}`,addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`,Annotations:{annotationsWrapper:"data-testid annotation-wrapper",annotationLabel:e=>`data-testid Dashboard annotations submenu Label ${e}`,annotationToggle:e=>`data-testid Dashboard annotations submenu Toggle ${e}`}},Settings:{Actions:{close:"data-testid dashboard-settings-close"},General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Tab General"},Annotations:{List:{addAnnotationCTA:h.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:h.CallToActionCard.buttonV2("Add annotation query")},Settings:{name:"Annotations settings name input"},NewAnnotation:{panelFilterSelect:"data-testid annotations-panel-filter",showInLabel:"show-in-label",previewInDashboard:"data-testid annotations-preview"}},Variables:{List:{addVariableCTA:h.CallToActionCard.button("Add variable"),addVariableCTAV2:h.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",selectionOptionsCustomAllInputV2:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",submitButton:"Variable editor Submit button",applyButton:"data-testid Variable editor Apply button"},QueryVariable:{queryOptionsDataSourceSelect:h.DataSourcePicker.container,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input"}}}},Annotations:{marker:"data-testid annotation-marker"}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{shareButton:"Share dashboard or panel",PublicDashboard:{Tab:"Tab Public dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",PauseSwitch:"data-testid public dashboard pause switch",EnableAnnotationsSwitch:"data-testid public dashboard on off switch for annotations",CreateButton:"data-testid public dashboard create button",DeleteButton:"data-testid public dashboard delete button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert",UnsupportedDataSourcesWarningAlert:"data-testid public dashboard unsupported data sources alert",NoUpsertPermissionsWarningAlert:"data-testid public dashboard no upsert permissions alert",EnableTimeRangeSwitch:"data-testid public dashboard on off switch for time range",EmailSharingConfiguration:{Container:"data-testid email sharing config container",ShareType:"data-testid public dashboard share type",EmailSharingInput:"data-testid public dashboard email sharing input",EmailSharingInviteButton:"data-testid public dashboard email sharing invite button",EmailSharingList:"data-testid public dashboard email sharing list",DeleteEmail:"data-testid public dashboard delete email button",ReshareLink:"data-testid public dashboard reshare link button"}}},PublicDashboard:{page:"public-dashboard-page",NotAvailable:{container:"public-dashboard-not-available",title:"public-dashboard-title",pausedDescription:"public-dashboard-paused-description"}},RequestViewAccess:{form:"request-view-access-form",recipientInput:"request-view-access-recipient-input",submitButton:"request-view-access-submit-button"},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"Plugin signature info",disabledInfo:"Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemDelete:"Delete playlist item"},BrowseDashbards:{table:{row:e=>`data-testid ${e} row`,checkbox:e=>`data-testid ${e} checkbox`}},Search:{url:"/?search=openn",FolderView:{url:"/?search=open&layout=folders"}},PublicDashboards:{ListItem:{linkButton:"public-dashboard-link-button",configButton:"public-dashboard-configuration-button",trashcanButton:"public-dashboard-remove-button"}},UserListPage:{tabs:{allUsers:"data-testid all-users-tab",orgUsers:"data-testid org-users-tab",publicDashboardsUsers:"data-testid public-dashboards-users-tab",users:"data-testid users-tab"},org:{url:"/org/users"},admin:{url:"/admin/users"},publicDashboards:{container:"data-testid public-dashboards-users-list"},UserListAdminPage:{container:"data-testid user-list-admin-page"},UsersListPage:{container:"data-testid users-list-page"},UsersListPublicDashboardsPage:{container:"data-testid users-list-public-dashboards-page",DashboardsListModal:{listItem:e=>`data-testid dashboards-list-item-${e}`}}}},components:h},E={panel:{root:"data-testid panel",loadingBar:"data-testid panel loading-bar",infoMessage:"data-testid panel info-message",singleLayoutContent:"data-testid panel single-layout-content",splitLayoutContent:e=>`data-testid panel split-layout-content-${e}`,buttonSubmit:"data-testid panel button-submit",buttonReset:"data-testid panel button-reset",buttonSaveDefault:"data-testid panel button-save-default",errorMessage:"data-testid panel error-message",buttonConfirmUpdate:y.pages.ConfirmModal.delete,confirmModalContent:"data-testid panel confirm-modal-content",confirmModalField:e=>`data-testid panel confirm-modal-content field-${e}`,confirmModalFieldTitle:"data-testid panel confirm-modal-content field field-title",confirmModalFieldPreviousValue:"data-testid panel confirm-modal-content field field-previous-value",confirmModalFieldValue:"data-testid panel confirm-modal-content field field-value"},customCodeEditor:{root:"data-testid custom-code-editor"},formElements:{root:"data-testid form-elements",element:(e,t)=>`data-testid form-elements element-${e}-${t}`,fieldNumber:"data-testid form-elements field-number",fieldString:"data-testid form-elements field-string",fieldFile:"data-testid form-elements field-file",fieldPassword:"data-testid form-elements field-password",fieldDisabled:"data-testid form-elements field-disabled",fieldTextarea:"data-testid form-elements field-textarea",fieldCode:y.components.CodeEditor.container,fieldBooleanContainer:"data-testid form-elements field-boolean-container",fieldDateTime:"date-time-input",fieldSlider:"form-elements field-slider",fieldSliderInput:"data-testid form-elements field-slider-input",fieldRadioContainer:"data-testid form-elements field-radio-container",fieldSelect:"form-elements field-select-container",booleanOption:e=>`form-elements boolean-${e}`,unit:"data-testid form-elements unit"},formElementsEditor:{addElementError:"data-testid form-elements-editor add-element-error",buttonAddElement:"data-testid form-elements-editor button-add-element",buttonAddOption:"data-testid form-elements-editor button-add-option",buttonRemoveElement:"data-testid form-elements-editor button-remove-element",buttonRemoveOption:"data-testid form-elements-editor button-remove-option",buttonSaveChanges:"data-testid form-elements-editor button-save-changes",fieldCodeHeight:"data-testid form-elements-editor field-code-height",fieldCodeLanguage:"form-elements-editor field-code-language",fieldId:"data-testid form-elements-editor field-id",fieldLabel:"data-testid form-elements-editor field-label",fieldLabelWidth:"data-testid form-elements-editor field-label-width",fieldNumberMax:"data-testid form-elements-editor field-number-max",fieldNumberMin:"data-testid form-elements-editor field-number-min",options:"data-testid form-elements-editor options",optionLabel:e=>`data-testid form-elements-editor option-label-${e}`,optionContent:e=>`data-testid form-elements-editor option-content-${e}`,fieldOptionLabel:"data-testid form-elements-editor field-option-label",fieldOptionIcon:"form-elements-editor field-option-icon",fieldOptionType:"form-elements-editor field-option-type",fieldOptionValue:"data-testid form-elements-editor field-option-value",fieldSection:"form-elements-editor field-section",fieldSliderMax:"data-testid form-elements-editor field-slider-max",fieldSliderMin:"data-testid form-elements-editor field-slider-min",fieldSliderStep:"data-testid form-elements-editor field-slider-step",fieldTextareaRows:"data-testid form-elements-editor field-textarea-rows",fieldTooltip:"data-testid form-elements-editor field-tooltip",fieldType:"form-elements-editor field-type",fieldShowIf:"form-elements-editor field-show-if",fieldUnit:"data-testid form-elements-editor field-unit",fieldVisibility:"data-testid form-elements-editor field-visibility",fieldWidth:"data-testid form-elements-editor field-width",fieldNamePicker:"data-testid form-elements-editor field-name-picker",fieldAccept:"data-testid form-elements-editor field-accept",fieldFromQueryPicker:"form-elements-editor field-from-query-picker",fieldDateTime:"date-time-input",fieldMinDate:"data-testid form-elements-editor field-min-date",fieldMaxDate:"data-testid form-elements-editor field-max-date",newElementId:"data-testid form-elements-editor new-element-id",newElementLabel:"data-testid form-elements-editor new-element-label",newElementType:"form-elements-editor new-element-type",radioOption:e=>`form-elements-editor option-${e}`,root:"data-testid form-elements-editor",sectionContent:(e,t)=>`data-testid form-elements-editor section-content-${e}-${t}`,sectionLabel:(e,t)=>`data-testid form-elements-editor section-label-${e}-${t}`,sectionNewContent:"data-testid form-elements-editor section-new-content",sectionNewLabel:"data-testid form-elements-editor section-new-label",buttonSetDate:"data-testid form-elements-editor button-set-date",buttonRemoveDate:"data-testid form-elements-editor button-remove-date"},headerParametersEditor:{buttonAdd:"data-testid header-parameters-editor button-add",buttonRemove:"data-testid header-parameters-editor button-remove",fieldName:"data-testid header-parameters-editor field-name",fieldValue:"data-testid header-parameters-editor field-value",parameter:e=>`data-testid header-parameters-editor root parameter-${e}`,root:"data-testid header-parameters-editor"},layoutSectionsEditor:{buttonAdd:"data-testid layout-sections-editor button-add",buttonRemove:"data-testid layout-sections-editor button-remove",fieldId:"data-testid layout-sections-editor field-id",fieldName:"data-testid layout-sections-editor field-name",root:"data-testid layout-sections-editor",section:e=>`data-testid layout-sections-editor section-${e}`},datasourceEditor:{fieldSelect:"select-datasource-editor field-select"}};var I;!function(e){e.BOOLEAN="boolean",e.CODE="code",e.DATETIME="datetime",e.DISABLED="disabled",e.NUMBER="number",e.PASSWORD="password",e.RADIO="radio",e.SECRET="secret",e.SELECT="select",e.MULTISELECT="multiselect",e.SLIDER="slider",e.STRING="string",e.TEXTAREA="textarea",e.FILE="file"}(I||(I={}));const w=[{value:"code",label:"Code Editor"},{value:"datetime",label:"Date and Time"},{value:"file",label:"File"},{value:"multiselect",label:"Multi Select with Custom options"},{value:"number",label:"Number Input"},{value:"slider",label:"Number Slider"},{value:"password",label:"Password Input"},{value:"boolean",label:"Radio Group with Boolean options"},{value:"radio",label:"Radio Group with Custom options"},{value:"disabled",label:"Read-only"},{value:"select",label:"Select with Custom options"},{value:"string",label:"String Input"},{value:"textarea",label:"Text Area"}],S=[{ariaLabel:E.formElements.booleanOption("true"),value:!0,label:"True"},{ariaLabel:E.formElements.booleanOption("false"),value:!1,label:"False"}],C=[{value:"number",label:"Number"},{value:"string",label:"String"}],D=[{ariaLabel:E.formElementsEditor.radioOption("visibility-display"),description:"Display",icon:"eye",value:!1},{ariaLabel:E.formElementsEditor.radioOption("visibility-hidden"),description:"Hidden",icon:"eye-slash",value:!0}];var O;!function(e){e.NONE="",e.INITIAL="initial",e.UPDATE="update",e.RESET="reset"}(O||(O={}));const x=(0,t.getAvailableIcons)().map((e=>({label:e,value:e,icon:e}))),P="console.log(data, response, initial, elements);\n\nreturn;\n\n/**\n * Data Source\n * Requires form elements to be defined\n */\nconst dataQuery = toDataQueryResponse(response);\nconsole.log(dataQuery);",T="if (response && response.ok) {\n  notifySuccess(['Update', 'Values updated successfully.']);\n  locationService.reload();\n} else {\n  notifyError(['Update', 'An error occured updating values.']);\n}",A={min:null,max:null,value:0},R={min:0,max:10,step:1,value:0},N={height:200,language:g.JAVASCRIPT},B={rows:10},L={uid:"",id:"",title:"",type:I.STRING,width:null,labelWidth:10,tooltip:"",section:"",hidden:!1,unit:"",value:""},M={id:"_",type:I.NUMBER,label:"",value:""};var k,F;!function(e){e.NONE="none",e.SINGLE="single",e.SPLIT="split"}(k||(k={})),function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(F||(F={}));const V=[{value:"single",description:"All elements together.",label:"Basic"},{value:"none",description:"Buttons only.",label:"Buttons only"},{value:"split",description:"Elements split in separate sections.",label:"Sections"}],j=[{value:"horizontal",description:"Horizontal Orientation",label:"Horizontal"},{value:"vertical",description:"Vertical Orientation",label:"Vertical"}];var U;!function(e){e.DATASOURCE="datasource",e.DELETE="DELETE",e.GET="GET",e.NONE="-",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.QUERY="query"}(U||(U={}));const G=[{value:"-",label:"-"},{value:"datasource",label:"Data Source"},{value:"query",label:"Query"},{value:"GET",label:"GET"}],_=[{value:"-",label:"-"},{value:"datasource",label:"Data Source"},{value:"DELETE",label:"DELETE"},{value:"PATCH",label:"PATCH"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"}];var W;!function(e){e.JSON="application/json",e.PLAIN="text/plain",e.FORMDATA="multipart/form-data"}(W||(W={}));const H=[{label:i("application/json"),value:"application/json"},{label:i("text/plain"),value:"text/plain"},{label:i("multipart/form-data"),value:"multipart/form-data"}];var $;!function(e){e.ALL="all",e.UPDATED="updated",e.CUSTOM="custom"}($||($={}));const q=[{label:"All Elements",value:"all"},{label:"Updated Only",value:"updated"},{label:"Custom Code",value:"custom"}];var Q;!function(e){e.INITIAL="initial",e.CUSTOM="custom"}(Q||(Q={}));const z=[{label:"-",value:"custom"},{label:"Initial request",value:"initial"}],K=({value:e,item:i,onChange:o})=>{var l,d;const s=(null===(l=i.settings)||void 0===l?void 0:l.language)||g.JAVASCRIPT,u=(0,a.getTemplateSrv)(),c=(0,n.useCallback)((()=>{var e;if(!(null===(e=i.settings)||void 0===e?void 0:e.suggestions))return[];const n=u.getVariables().map((e=>({label:`\${${e.name}}`,kind:t.CodeEditorSuggestionItemKind.Property,detail:e.description?e.description:e.label})));return[...v,...n]}),[u,null===(d=i.settings)||void 0===d?void 0:d.suggestions]);return r().createElement("div",{"data-testid":E.customCodeEditor.root},r().createElement(t.CodeEditor,{language:s,showLineNumbers:!0,showMiniMap:(e&&e.length)>100,value:e,height:"200px",onBlur:o,onSave:o,monacoOptions:{formatOnPaste:!0,formatOnType:!0},onEditorDidMount:e=>{setTimeout((()=>{e.getAction("editor.action.formatDocument").run()}),100)},getSuggestions:c}))};var Y=c(177);function J(e,t,n,r,a,i,o){try{var l=e[i](o),d=l.value}catch(e){return void n(e)}l.done?t(d):Promise.resolve(d).then(r,a)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){X(e,t,n[t])}))}return e}const ee=()=>{return(0,n.useCallback)((e=function*({query:e,datasource:t,replaceVariables:n}){const r=yield(0,a.getDataSourceSrv)().get(t),i=JSON.parse(n(JSON.stringify(e)));return(0,Y.lastValueFrom)((0,a.getBackendSrv)().fetch({method:"POST",url:"api/ds/query",data:{queries:[Z({datasourceId:r.id,refId:"A"},i)]}}))},t=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){J(i,r,a,o,l,"next",e)}function l(e){J(i,r,a,o,l,"throw",e)}o(void 0)}))},function(e){return t.apply(this,arguments)}),[]);var e,t};function te(e,t,n,r,a,i,o){try{var l=e[i](o),d=l.value}catch(e){return void n(e)}l.done?t(d):Promise.resolve(d).then(r,a)}const ne=()=>{const[e,t]=(0,n.useState)([]);return(0,n.useEffect)((()=>{var e,n;(e=function*(){const e=yield(0,a.getBackendSrv)().get("/api/datasources");t(e)},n=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){te(i,r,a,o,l,"next",e)}function l(e){te(i,r,a,o,l,"throw",e)}o(void 0)}))},function(){return n.apply(this,arguments)})()}),[]),e},re={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ae;const ie=new Uint8Array(16);function oe(){if(!ae&&(ae="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ae))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ae(ie)}const le=[];for(let e=0;e<256;++e)le.push((e+256).toString(16).slice(1));const de=function(e,t,n){if(re.randomUUID&&!t&&!e)return re.randomUUID();const r=(e=e||{}).random||(e.rng||oe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(le[e[t+0]]+le[e[t+1]]+le[e[t+2]]+le[e[t+3]]+"-"+le[e[t+4]]+le[e[t+5]]+"-"+le[e[t+6]]+le[e[t+7]]+"-"+le[e[t+8]]+le[e[t+9]]+"-"+le[e[t+10]]+le[e[t+11]]+le[e[t+12]]+le[e[t+13]]+le[e[t+14]]+le[e[t+15]]).toLowerCase()}(r)};function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){se(e,t,n[t])}))}return e}function ce(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const pe=(e,t,n)=>{const r=Array.from(e),[a]=r.splice(t,1);return r.splice(n,0,a),r},fe=(e,t)=>{const n={uid:e.uid,id:e.id,type:t,labelWidth:e.labelWidth,width:e.width,value:e.value,title:e.title,tooltip:e.tooltip,section:e.section,unit:e.unit,helpers:e.helpers};switch(t){case I.STRING:return ce(ue({},n),{hidden:!1,value:"",type:t});case I.SLIDER:return ce(ue({},n,R),{type:t});case I.NUMBER:return ce(ue({},n,A),{type:t});case I.CODE:return ce(ue({},n,N),{type:t});case I.TEXTAREA:return ce(ue({},n,B),{type:t});case I.SELECT:case I.MULTISELECT:case I.DISABLED:case I.RADIO:return ce(ue({},n),{options:"options"in e&&e.options||[],type:t});case I.FILE:return ce(ue({},n),{accept:"",type:t});default:return ce(ue({},n),{type:t})}},me=(e,t)=>e.some((e=>e.id===t.id&&e.type===t.type)),ge=e=>e.trim().length>0?Number(e):null,be=e=>"number"==typeof e?e:"",ve=e=>"number"==typeof e?e:void 0,he=e=>e.uid||de(),ye=e=>void 0!==e.id?e.id:e.name,Ee=e=>void 0!==e.id?e.id:e.value,Ie=e=>{var t,n;const r=e.showIf;let a=()=>!0;if(r||(null===(t=r)||void 0===t?void 0:t.trim())){const e=new Function("elements","replaceVariables",r);a=({elements:t,replaceVariables:n})=>e(t,n)}return ce(ue({},e,"options"in e?{options:null===(n=e.options)||void 0===n?void 0:n.map((e=>ce(ue({},e),{id:Ee(e)})))}:{}),{helpers:{showIf:a},uid:he(e)})},we=e=>e&&Array.isArray(e)?e.map((e=>Ie(e))):[];function Se(e,t,n,r,a,i,o){try{var l=e[i](o),d=l.value}catch(e){return void n(e)}l.done?t(d):Promise.resolve(d).then(r,a)}const Ce=({request:e,elements:t,initial:n})=>{if(e.payloadMode===$.CUSTOM)return new Function("elements","initial",e.getPayload)(t,n);const r=void 0===e.payloadMode?e.updatedOnly:e.payloadMode===$.UPDATED,a={};return t.forEach((e=>{r?e.value!==n[e.id]&&e.type!==I.DISABLED&&(a[e.id]=e.value):a[e.id]=e.value})),a},De=e=>new Promise((t=>{const n=new FileReader;n.addEventListener("load",(e=>{var n;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)&&t(e.target.result)})),n.readAsDataURL(e)})),Oe=(xe=function*(e,t){if("object"!=typeof e||Array.isArray(e)||null===e)return t(JSON.stringify(e));const n={};for(let[t,r]of Object.entries(e))Array.isArray(r)&&r[0]instanceof File?n[t]=yield Promise.all(r.map((e=>De(e)))):n[t]=r;return t(JSON.stringify(n))},Pe=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=xe.apply(e,t);function i(e){Se(a,n,r,i,o,"next",e)}function o(e){Se(a,n,r,i,o,"throw",e)}i(void 0)}))},function(e,t){return Pe.apply(this,arguments)});var xe,Pe;const Te=(e,t)=>"string"==typeof e?t(e):e instanceof File?e:`${e}`;var Ae=c(944);function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,Ae.r)(E.customCodeEditor),(0,Ae.r)(E.formElements,["fieldDateTime"]),(0,Ae.r)(E.formElementsEditor,["fieldDateTime"]),(0,Ae.r)(E.panel),(0,Ae.r)(E.headerParametersEditor),(0,Ae.r)(E.layoutSectionsEditor);const Ne=(e,t,r=!0)=>{const[a,i]=(0,n.useState)(we(t)),[o,l]=(0,n.useState)(!1),{startTimer:d,removeTimer:s}=(()=>{const e=(0,n.useRef)(null),t=(0,n.useCallback)((()=>{e.current&&(clearTimeout(e.current),e.current=null)}),[]);return{startTimer:(0,n.useCallback)((n=>{t(),e.current=setTimeout((()=>{n(),e.current=null}),1e3)}),[t]),removeTimer:t}})(),u=(0,n.useCallback)((()=>{e((e=>e.map((e=>{var{helpers:t}=e;return function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["helpers"])})))(a)),l(!1)}),[a,e]),c=(0,n.useCallback)((e=>{i(e),l(!0)}),[]),p=(0,n.useCallback)(((e,t=!1)=>{t&&me(a,e)?alert("Element with the same id and type exists."):c(a.map((t=>t.uid===e.uid?e:t)))}),[a,c]),f=(0,n.useCallback)(((e,t,{value:n=t.value}={},r=!1)=>{var a,i,o,l,d;return"options"in e&&(r&&(i=e.options||[],o=t,i.some((e=>e.value.toString()===o.value.toString())))?(alert("Option with the same value exists"),!1):(p((l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Re(e,t,n[t])}))}return e}({},e),d=null!=(d={options:null===(a=e.options)||void 0===a?void 0:a.map((e=>e.value===n?t:e))})?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(d)).forEach((function(e){Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(d,e))})),l)),!0))}),[p]),m=(0,n.useCallback)((e=>{const t=a.filter((t=>t.uid!==e));c(t)}),[a,c]);return(0,n.useEffect)((()=>{i(we(t)),l(!1)}),[t]),(0,n.useEffect)((()=>(r&&o?d(u):s(),()=>{s()})),[d,o,u,s,r]),{elements:a,isChanged:o,onSaveUpdates:u,onChangeElements:c,onChangeElement:p,onChangeElementOption:f,onElementRemove:m}},Be=({value:e,onChange:a})=>{const i=ne(),o=(0,n.useMemo)((()=>i.map((e=>({label:e.name,value:e.name})))),[i]);return r().createElement(t.Select,{onChange:e=>{a(e.value)},options:o,value:e,"aria-label":E.datasourceEditor.fieldSelect})};const Le=n=>{var{value:a,onChange:i,label:o}=n,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["value","onChange","label"]);return r().createElement(t.InlineFieldRow,l,a?r().createElement(r().Fragment,null,r().createElement(t.InlineField,{label:o,labelWidth:8},r().createElement(t.DateTimePicker,{onChange:e=>{i(e.toISOString())},date:(0,e.dateTime)(a),"data-testid":E.formElementsEditor.fieldDateTime})),r().createElement(t.Button,{icon:"minus",onClick:()=>{i("")},variant:"secondary","data-testid":E.formElementsEditor.buttonRemoveDate})):r().createElement(t.InlineField,{label:o,labelWidth:8},r().createElement(t.Button,{icon:"plus",onClick:()=>{i((new Date).toISOString())},variant:"secondary","data-testid":E.formElementsEditor.buttonSetDate},"Set ",o," Date")))};function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}function ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Me(e,t)}function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}var Ve=c(129),je=c(929);function Ue(e,t){var r=(0,n.useState)((function(){return{inputs:t,result:e()}}))[0],a=(0,n.useRef)(!0),i=(0,n.useRef)(r),o=a.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,n.useEffect)((function(){a.current=!1,i.current=o}),[o]),o.result}var Ge=Ue,_e=function(e,t){return Ue((function(){return e}),t)},We=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},He=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},$e=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},qe={top:0,right:0,bottom:0,left:0},Qe=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?qe:n,a=e.border,i=void 0===a?qe:a,o=e.padding,l=void 0===o?qe:o,d=We(He(t,r)),s=We($e(t,i)),u=We($e(s,l));return{marginBox:d,borderBox:We(t),paddingBox:s,contentBox:u,margin:r,border:i,padding:l}},ze=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error("Invariant failed")}(),n},Ke=function(e,t){var n,r,a=e.borderBox,i=e.border,o=e.margin,l=e.padding,d=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Qe({borderBox:d,border:i,margin:o,padding:l})},Ye=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Ke(e,t)},Je=function(e,t){var n={top:ze(t.marginTop),right:ze(t.marginRight),bottom:ze(t.marginBottom),left:ze(t.marginLeft)},r={top:ze(t.paddingTop),right:ze(t.paddingRight),bottom:ze(t.paddingBottom),left:ze(t.paddingLeft)},a={top:ze(t.borderTopWidth),right:ze(t.borderRightWidth),bottom:ze(t.borderBottomWidth),left:ze(t.borderLeftWidth)};return Qe({borderBox:e,margin:n,padding:r,border:a})},Xe=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Je(t,n)},Ze=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function et(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(a=t[n])||Ze(r)&&Ze(a)))return!1;var r,a;return!0}const tt=function(e,t){var n;void 0===t&&(t=et);var r,a=[],i=!1;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return i&&n===this&&t(o,a)||(r=e.apply(this,o),i=!0,n=this,a=o),r}},nt=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var rt=c(729),at=c.n(rt);function it(e,t){}function ot(){}function lt(e,t,n){var r=t.map((function(t){var r,a,i=(r=n,a=t.options,Fe({},r,{},a));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}it.bind(null,"warn"),it.bind(null,"error");var dt=!0,st="Invariant failed";function ut(e){this.message=e}function ct(e,t){if(!e)throw new ut(dt?st:st+": "+(t||""))}ut.prototype.toString=function(){return this.message};var pt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=ot,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof ut&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}ke(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=lt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof ut))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r().Component),ft=function(e){return e+1},mt=function(e,t){var n=e.droppableId===t.droppableId,r=ft(e.index),a=ft(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},gt=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},bt=function(e){return"\n  The item has returned to its starting position\n  of "+ft(e.index)+"\n"},vt=function(e){return"\n  You have lifted an item in position "+ft(e.source.index)+"\n"},ht=function(e){var t=e.destination;if(t)return mt(e.source,t);var n=e.combine;return n?gt(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},yt=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+bt(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+mt(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+gt(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+bt(e.source)+"\n  "},Et={x:0,y:0},It=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},wt=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},St=function(e,t){return e.x===t.x&&e.y===t.y},Ct=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Dt=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Ot=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},xt=function(e,t){return Math.min.apply(Math,t.map((function(t){return Ot(e,t)})))},Pt=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Tt=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},At=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Rt=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=We({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):We(e)},Nt=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,i=function(e,t){return t?Tt(e,t.scroll.diff.displacement):e}(t.marginBox,a),o=function(e,t,n){var r;return n&&n.increasedBy?Fe({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:Rt(o,a)}},Bt=function(e,t){e.frame||ct(!1);var n=e.frame,r=wt(t,n.scroll.initial),a=Ct(r),i=Fe({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}});return Fe({},e,{frame:i,subject:Nt({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function Lt(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Mt(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function kt(e,t){if(e.find)return e.find(t);var n=Mt(e,t);return-1!==n?e[n]:void 0}function Ft(e){return Array.prototype.slice.call(e)}var Vt=tt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),jt=tt((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Ut=tt((function(e){return Lt(e)})),Gt=tt((function(e){return Lt(e)})),_t=tt((function(e,t){var n=Gt(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Wt(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Ht(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var $t=tt((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),qt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Qt={point:Et,value:0},zt={invisible:{},visible:{},all:[]},Kt={displaced:zt,displacedBy:Qt,at:null},Yt=function(e,t){return function(n){return e<=n&&n<=t}},Jt=function(e){var t=Yt(e.top,e.bottom),n=Yt(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;var o=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!o||!l)||o&&i||l&&a}},Xt=function(e){var t=Yt(e.top,e.bottom),n=Yt(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Zt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},en={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},tn=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,o=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Et;return Tt(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,i)&&function(e,t,n){return n(t)(e)}(o,r,i)},nn=function(e){return tn(Fe({},e,{isVisibleThroughFrameFn:Jt}))},rn=function(e){return tn(Fe({},e,{isVisibleThroughFrameFn:Xt}))},an=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var i=a[e];return!i||i.shouldAnimate};function on(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return We(He(n,r))}(t,r),d=t.descriptor.id;if(e.all.push(d),!nn({target:l,destination:n,viewport:a,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var s={draggableId:d,shouldAnimate:an(d,o,i)};return e.visible[d]=s,e}),{all:[],visible:{},invisible:{}})}function ln(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:zt,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function dn(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,d=e.forceShouldAnimate,s=qt(t,r);if(null==l)return ln({insideDestination:n,inHomeList:s,displacedBy:i,destination:r});var u=kt(n,(function(e){return e.descriptor.index===l}));if(!u)return ln({insideDestination:n,inHomeList:s,displacedBy:i,destination:r});var c=$t(t,n),p=n.indexOf(u);return{displaced:on({afterDragging:c.slice(p),destination:r,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:d}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function sn(e,t){return Boolean(t.effected[e])}var un=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},cn=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},pn=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Dt(t.line,n.marginBox[t.end]+un(t,r),cn(t,n.marginBox,r))},fn=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Dt(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),cn(t,n.marginBox,r))},mn=function(e,t){var n=e.frame;return n?It(t,n.scroll.diff.displacement):t},gn=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.afterCritical,o=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,o=_t(a.descriptor.id,r),l=n.page,d=a.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Dt(t.line,n.contentBox[t.start]+un(t,r),cn(t,n.contentBox,r))}({axis:d,moveInto:a.page,isMoving:l});var s=t.displaced,u=t.displacedBy,c=s.all[0];if(c){var p=r[c];if(sn(c,i))return fn({axis:d,moveRelativeTo:p.page,isMoving:l});var f=Ke(p.page,u.point);return fn({axis:d,moveRelativeTo:f,isMoving:l})}var m=o[o.length-1];if(m.descriptor.id===n.descriptor.id)return l.borderBox.center;if(sn(m.descriptor.id,i)){var g=Ke(m.page,Ct(i.displacedBy.point));return pn({axis:d,moveRelativeTo:g,isMoving:l})}return pn({axis:d,moveRelativeTo:m.page,isMoving:l})}({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=Ht(n);a||ct(!1);var i=a.draggableId,o=r[i].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return sn(r,n)?i?Et:Ct(a.point):i?a.point:Et}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return It(o,l)}({impact:t,draggables:a,afterCritical:i}):o}(e),n=e.droppable;return n?mn(n,t):t},bn=function(e,t){var n=wt(t,e.scroll.initial),r=Ct(n);return{frame:We({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function vn(e,t){return e.map((function(e){return t[e]}))}var hn=function(e){var t,n,r=e.pageBorderBoxCenter,a=e.draggable,i=(t=e.viewport,n=r,It(t.scroll.diff.displacement,n)),o=wt(i,a.page.borderBox.center);return It(a.client.borderBox.center,o)},yn=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=void 0!==o&&o,d=wt(r,t.page.borderBox.center),s={target:Tt(t.page.borderBox,d),destination:n,withDroppableDisplacement:i,viewport:a};return l?function(e){return tn(Fe({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Yt(e.top,e.bottom),r=Yt(e.left,e.right);return function(e){return t===Zt?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(s):rn(s)},En=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,d=e.previousClientSelection,s=e.afterCritical;if(!r.isEnabled)return null;var u=_t(r.descriptor.id,a),c=qt(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Wt(i))return null;function o(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Fe({},i,{at:t})}var l=i.displaced.all,d=l.length?l[0]:null;if(t)return d?o(d):null;var s=$t(n,a);if(!d)return s.length?o(s[s.length-1].descriptor.id):null;var u=Mt(s,(function(e){return e.descriptor.id===d}));-1===u&&ct(!1);var c=u-1;return c<0?null:o(s[c].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:i})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,d=e.viewport,s=e.afterCritical,u=l.at;if(u||ct(!1),"REORDER"===u.type){var c=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,o=t?i+1:i-1,l=r[0].descriptor.index,d=r[r.length-1].descriptor.index;return o<l||o>(n?d:d+1)?null:o}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:o});return null==c?null:dn({draggable:r,insideDestination:o,destination:i,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:c})}var p=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,a=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=r.draggableId,o=n[i].descriptor.index;return sn(i,a)?t?o:o-1:t?o+1:o}({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:u.combine,afterCritical:s});return null==p?null:dn({draggable:r,insideDestination:o,destination:i,viewport:d,last:l.displaced,displacedBy:l.displacedBy,index:p})}({isMovingForward:t,isInHomeList:c,draggable:n,draggables:a,destination:r,insideDestination:u,previousImpact:i,viewport:o,afterCritical:s});if(!p)return null;var f=gn({impact:p,draggable:n,droppable:r,draggables:a,afterCritical:s});if(yn({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:hn({pageBorderBoxCenter:f,draggable:n,viewport:o}),impact:p,scrollJumpRequest:null};var m=wt(f,l),g=function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,i=e.maxScrollChange,o=bn(n,It(n.scroll.current,i)),l=r.frame?Bt(r,It(r.frame.scroll.current,i)):r,d=t.displaced,s=on({afterDragging:vn(d.all,a),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:d,forceShouldAnimate:!1}),u=on({afterDragging:vn(d.all,a),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:d,forceShouldAnimate:!1}),c={},p={},f=[d,s,u];return d.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?p[e]=t:c[e]=!0})),Fe({},t,{displaced:{all:d.all,invisible:c,visible:p}})}({impact:p,viewport:o,destination:r,draggables:a,maxScrollChange:m});return{clientSelection:d,impact:g,scrollJumpRequest:m}},In=function(e){var t=e.subject.active;return t||ct(!1),t},wn=function(e,t){var n=e.page.borderBox.center;return sn(e.descriptor.id,t)?wt(n,t.displacedBy.point):n},Sn=function(e,t){var n=e.page.borderBox;return sn(e.descriptor.id,t)?Tt(n,Ct(t.displacedBy.point)):n},Cn=tt((function(e,t){var n=t[e.line];return{value:n,point:Dt(e.line,n)}})),Dn=function(e,t){return Fe({},e,{scroll:Fe({},e.scroll,{max:t})})},On=function(e,t,n){var r=e.frame;qt(t,e)&&ct(!1),e.subject.withPlaceholder&&ct(!1);var a=Cn(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Dt(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],i=_t(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-a;return i<=0?null:Dt(r.line,i)}(e,a,n),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return Fe({},e,{subject:Nt({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame})});var l=i?It(r.scroll.max,i):r.scroll.max,d=Dn(r,l);return Fe({},e,{subject:Nt({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:d}),frame:d})},xn=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Pn=function(e){var t=e.state,n=e.type,r=function(e,t){var n=xn(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,l=o.axis.direction,d="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(d&&!a)return null;var s="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,m=p.droppables;return d?En({isMovingForward:s,previousPageBorderBoxCenter:c,draggable:u,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,d=e.afterCritical,s=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,o=r.subject.active;if(!o)return null;var l=r.axis,d=Yt(o[l.start],o[l.end]),s=Ut(a).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Jt(i.frame)(In(e))})).filter((function(e){var n=In(e);return t?o[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<o[l.crossAxisStart]})).filter((function(e){var t=In(e),n=Yt(t[l.start],t[l.end]);return d(t[l.start])||d(t[l.end])||n(o[l.start])||n(o[l.end])})).sort((function(e,n){var r=In(e)[l.crossAxisStart],a=In(n)[l.crossAxisStart];return t?r-a:a-r})).filter((function(e,t,n){return In(e)[l.crossAxisStart]===In(n[0])[l.crossAxisStart]}));if(!s.length)return null;if(1===s.length)return s[0];var u=s.filter((function(e){return Yt(In(e)[l.start],In(e)[l.end])(n[l.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return In(e)[l.start]-In(t)[l.start]}))[0]:s.sort((function(e,t){var r=xt(n,At(In(e))),a=xt(n,At(In(t)));return r!==a?r-a:In(e)[l.start]-In(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:l});if(!s)return null;var u=_t(s.descriptor.id,i),c=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.afterCritical,i=e.insideDestination.filter((function(e){return rn({target:Sn(e,a),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=Ot(t,mn(r,wn(e,a))),o=Ot(t,mn(r,wn(n,a)));return i<o?-1:o<i?1:e.descriptor.index-n.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:s,insideDestination:u,afterCritical:d}),p=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,d=e.afterCritical;if(!n){if(r.length)return null;var s={displaced:zt,displacedBy:Qt,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=gn({impact:s,draggable:a,droppable:o,draggables:i,afterCritical:d}),c=qt(a,o)?o:On(o,a,i);return yn({draggable:a,destination:c,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?s:null}var p,f=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),m=(p=n.descriptor.index,n.descriptor.id===a.descriptor.id||f?p:p+1);return dn({draggable:a,insideDestination:r,destination:o,viewport:l,displacedBy:Cn(o.axis,a.displaceBy),last:zt,index:m})}({previousPageBorderBoxCenter:n,destination:s,draggable:r,draggables:i,moveRelativeTo:c,insideDestination:u,viewport:l,afterCritical:d});if(!p)return null;var f=gn({impact:p,draggable:r,droppable:s,draggables:i,afterCritical:d});return{clientSelection:hn({pageBorderBoxCenter:f,draggable:r,viewport:l}),impact:p,scrollJumpRequest:null}}({isMovingForward:s,previousPageBorderBoxCenter:c,draggable:u,isOver:o,draggables:f,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function Tn(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function An(e){var t=Yt(e.top,e.bottom),n=Yt(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var Rn=function(e,t){return We(Tt(e,t))};function Nn(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Bn=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,d=Rn(n.page.borderBox,t),s=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=Ut(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(An(a)(t.center))return!0;var i=e.axis,o=a.center[i.crossAxisLine],l=t[i.crossAxisStart],d=t[i.crossAxisEnd],s=Yt(a[i.crossAxisStart],a[i.crossAxisEnd]),u=s(l),c=s(d);return!u&&!c||(u?l<o:d>o)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,a=n.map((function(e){var n=e.axis,a=Dt(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Ot(r,a)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}({pageBorderBox:d,draggable:n,droppables:a});if(!s)return Kt;var u=a[s],c=_t(u.descriptor.id,r),p=function(e,t){var n=e.frame;return n?Rn(t,n.scroll.diff.value):t}(u,d);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,d=Cn(a.axis,t.displaceBy),s=d.value,u=n[l.start],c=n[l.end],p=kt($t(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[l.size]/4,i=sn(t,o),d=Nn({displaced:r.displaced,id:t});return i?d?c>n[l.start]+a&&c<n[l.end]-a:u>n[l.start]-s+a&&u<n[l.end]-s-a:d?c>n[l.start]+s+a&&c<n[l.end]+s-a:u>n[l.start]+a&&u<n[l.end]-a}));return p?{displacedBy:d,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:u,insideDestination:c,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,d=r.axis,s=Cn(r.axis,n.displaceBy),u=s.value,c=t[d.start],p=t[d.end],f=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:kt($t(n,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[d.line],r=sn(t,l),a=Nn({displaced:i,id:t});return r?a?p<=n:c<n-u:a?p<=n+u:c<n})),inHomeList:qt(n,r)});return dn({draggable:n,insideDestination:a,destination:r,viewport:o,last:i,displacedBy:s,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:c,last:i.displaced,viewport:o,afterCritical:l})},Ln=function(e,t){var n;return Fe({},e,((n={})[t.descriptor.id]=t,n))},Mn=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,d=r||t.dimensions,s=n||t.current.client.selection,u=wt(s,t.initial.client.selection),c={offset:u,selection:s,borderBoxCenter:It(t.initial.client.borderBoxCenter,u)},p={selection:It(c.selection,l.scroll.current),borderBoxCenter:It(c.borderBoxCenter,l.scroll.current),offset:It(c.offset,l.scroll.diff.value)},f={client:c,page:p};if("COLLECTING"===t.phase)return Fe({phase:"COLLECTING"},t,{dimensions:d,viewport:l,current:f});var m=d.draggables[t.critical.draggable.id],g=i||Bn({pageOffset:p.offset,draggable:m,draggables:d.draggables,droppables:d.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.impact,i=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=xn(t),i=xn(n);if(!a)return r;if(a===i)return r;var o=r[a];if(!o.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||ct(!1);var n=e.frame;if(!n)return Fe({},e,{subject:Nt({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||ct(!1);var a=Dn(n,r);return Fe({},e,{subject:Nt({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null}),frame:a})}(o);return Ln(r,l)}({previousImpact:e.previousImpact,impact:a,droppables:r}),o=xn(a);if(!o)return i;var l=r[o];if(qt(t,l))return i;if(l.subject.withPlaceholder)return i;var d=On(l,t,n);return Ln(i,d)}({draggable:m,impact:g,previousImpact:t.impact,draggables:d.draggables,droppables:d.droppables});return Fe({},t,{current:f,dimensions:{draggables:d.draggables,droppables:b},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null})},kn=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=function(e,t){return e.map((function(e){return t[e]}))}(o.all,r);return Fe({},t,{displaced:on({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o})})},Fn=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=gn({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o});return hn({pageBorderBoxCenter:l,draggable:n,viewport:i})},Vn=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&ct(!1);var a=t.impact,i=r||t.viewport,o=n||t.dimensions,l=o.draggables,d=o.droppables,s=l[t.critical.draggable.id],u=xn(a);u||ct(!1);var c=d[u],p=kn({impact:a,viewport:i,destination:c,draggables:l}),f=Fn({impact:p,draggable:s,droppable:c,draggables:l,viewport:i,afterCritical:t.afterCritical});return Mn({impact:p,clientSelection:f,state:t,dimensions:o,viewport:i})},jn=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=Cn(n.axis,t.displaceBy),o=_t(n.descriptor.id,r),l=o.indexOf(t);-1===l&&ct(!1);var d,s=o.slice(l+1),u=s.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),c={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:on({afterDragging:s,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(d=t.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:c}},Un=function(e){return"SNAP"===e.movementMode},Gn=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Ln(e.droppables,t)}}(e.dimensions,t);return!Un(e)||n?Mn({state:e,dimensions:r}):Vn({state:e,dimensions:r})};function _n(e){return e.isDragging&&"SNAP"===e.movementMode?Fe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Wn={phase:"IDLE",completed:null,shouldFlush:!1},Hn=function(e,t){if(void 0===e&&(e=Wn),"FLUSH"===t.type)return Fe({},Wn,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&ct(!1);var n=t.payload,r=n.critical,a=n.clientSelection,i=n.viewport,o=n.dimensions,l=n.movementMode,d=o.draggables[r.draggable.id],s=o.droppables[r.droppable.id],u={selection:a,borderBoxCenter:d.client.borderBox.center,offset:Et},c={client:u,page:{selection:It(u.selection,i.scroll.initial),borderBoxCenter:It(u.selection,i.scroll.initial),offset:It(u.selection,i.scroll.diff.value)}},p=Ut(o.droppables).every((function(e){return!e.isFixedOnPage})),f=jn({draggable:d,home:s,draggables:o.draggables,viewport:i}),m=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:o,initial:c,current:c,isWindowScrollAllowed:p,impact:m,afterCritical:f.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&ct(!1),Fe({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&ct(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Bt(n,e.scroll)})),a=Fe({},t.dimensions.droppables,{},Vt(r)),i=jt(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||ct(!1),t}(n[t]),o=i.scroll.diff.value,l=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=Ke(t.client,n),i=Ye(a,r);return Fe({},t,{placeholder:Fe({},t.placeholder,{client:a}),client:a,page:i})}({draggable:e,offset:It(a,o),initialWindowScroll:r.scroll.initial});return l}))}({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),o=Fe({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete o[e]}));var l={droppables:a,draggables:o},d=xn(t.impact),s=d?l.droppables[d]:null,u=l.draggables[t.critical.draggable.id],c=l.droppables[t.critical.droppable.id],p=jn({draggable:u,home:c,draggables:o,viewport:t.viewport}),f=p.impact,m=p.afterCritical,g=s&&s.isCombineEnabled?t.impact:f,b=Bn({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m}),v=Fe({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:Fe({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Tn(e)||ct(!1);var g=t.payload.client;return St(g,e.current.client.selection)?e:Mn({state:e,clientSelection:g,impact:Un(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return _n(e);if("COLLECTING"===e.phase)return _n(e);Tn(e)||ct(!1);var b=t.payload,v=b.id,h=b.newScroll,y=e.dimensions.droppables[v];if(!y)return e;var E=Bt(y,h);return Gn(e,E,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Tn(e)||ct(!1);var I=t.payload,w=I.id,S=I.isEnabled,C=e.dimensions.droppables[w];C||ct(!1),C.isEnabled===S&&ct(!1);var D=Fe({},C,{isEnabled:S});return Gn(e,D,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Tn(e)||ct(!1);var O=t.payload,x=O.id,P=O.isCombineEnabled,T=e.dimensions.droppables[x];T||ct(!1),T.isCombineEnabled===P&&ct(!1);var A=Fe({},T,{isCombineEnabled:P});return Gn(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Tn(e)||ct(!1),e.isWindowScrollAllowed||ct(!1);var R=t.payload.newScroll;if(St(e.viewport.scroll.current,R))return _n(e);var N=bn(e.viewport,R);return Un(e)?Vn({state:e,viewport:N}):Mn({state:e,viewport:N})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Tn(e))return e;var B=t.payload.maxScroll;if(St(B,e.viewport.scroll.max))return e;var L=Fe({},e.viewport,{scroll:Fe({},e.viewport.scroll,{max:B})});return Fe({phase:"DRAGGING"},e,{viewport:L})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&ct(!1);var M=Pn({state:e,type:t.type});return M?Mn({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var k=t.payload.reason;return"COLLECTING"!==e.phase&&ct(!1),Fe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:k})}if("DROP_ANIMATE"===t.type){var F=t.payload,V=F.completed,j=F.dropDuration,U=F.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&ct(!1),{phase:"DROP_ANIMATING",completed:V,dropDuration:j,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},$n=function(e){return{type:"LIFT",payload:e}},qn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Qn=function(){return{type:"COLLECTION_STARTING",payload:null}},zn=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Kn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Yn=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Jn=function(e){return{type:"MOVE",payload:e}},Xn=function(){return{type:"MOVE_UP",payload:null}},Zn=function(){return{type:"MOVE_DOWN",payload:null}},er=function(){return{type:"MOVE_RIGHT",payload:null}},tr=function(){return{type:"MOVE_LEFT",payload:null}},nr=function(){return{type:"FLUSH",payload:null}},rr=function(e){return{type:"DROP_COMPLETE",payload:e}},ar=function(e){return{type:"DROP",payload:e}},ir="cubic-bezier(.2,1,.1,1)",or=0,lr=.7,dr=.75,sr="0.2s cubic-bezier(0.2, 0, 0, 1)",ur={fluid:"opacity "+sr,snap:"transform "+sr+", opacity "+sr,drop:function(e){var t=e+"s "+ir;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+sr,placeholder:"height "+sr+", width "+sr+", margin "+sr},cr=function(e){return St(e,Et)?null:"translate("+e.x+"px, "+e.y+"px)"},pr=cr,fr=function(e,t){var n=cr(e);return n?t?n+" scale("+dr+")":n:null},mr=.33,gr=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),i=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&ct(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&ct(!1);var o=a.critical,l=a.dimensions,d=l.draggables[a.critical.draggable.id],s=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Fe({},r,{displaced:zt}),didDropInsideDroppable:!0}:{impact:kn({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=s.impact,c=s.didDropInsideDroppable,p=c?Wt(u):null,f=c?Ht(u):null,m={index:o.draggable.index,droppableId:o.droppable.id},g={draggableId:d.descriptor.id,type:d.descriptor.type,source:m,reason:i,mode:a.movementMode,destination:p,combine:f},b=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,o=r.draggables,l=r.droppables,d=xn(t),s=d?l[d]:null,u=l[n.descriptor.droppableId],c=Fn({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:s||u,viewport:a});return wt(c,n.client.borderBox.center)}({impact:u,draggable:d,dimensions:l,viewport:a.viewport,afterCritical:a.afterCritical}),v={critical:a.critical,afterCritical:a.afterCritical,result:g,impact:u};if(!St(a.current.client.offset,b)||Boolean(g.combine)){var h=function(e){var t=e.reason,n=Ot(e.current,e.destination);if(n<=0)return mr;if(n>=1500)return.55;var r=mr+n/1500*.22000000000000003;return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:a.current.client.offset,destination:b,reason:i});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:b,dropDuration:h,completed:v}})}else n(rr({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},br=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var vr=function(e){var t=function(e){var t=e.onWindowScroll,n=nt((function(){t(br())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),a=ot;function i(){return a!==ot}return{start:function(){i()&&ct(!1),a=lt(window,[r])},stop:function(){i()||ct(!1),n.cancel(),a(),a=ot},isActive:i}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},hr=function(e,t){t()},yr=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Er=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},Ir=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=Mt(n,(function(t){return t.timerId===e}));-1===t&&ct(!1),n.splice(t,1)[0].callback()}(t)})),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),a=null,i=function(n){a||ct(!1),a=null,hr(0,(function(){return Er(e().onDragEnd,n,t,yt)}))};return{beforeCapture:function(t,n){a&&ct(!1),hr(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){a&&ct(!1),hr(0,(function(){var r=e().onBeforeDragStart;r&&r(yr(t,n))}))},start:function(n,i){a&&ct(!1);var o=yr(n,i);a={mode:i,lastCritical:n,lastLocation:o.source,lastCombine:null},r.add((function(){hr(0,(function(){return Er(e().onDragStart,o,t,vt)}))}))},update:function(n,i){var o=Wt(i),l=Ht(i);a||ct(!1);var d=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,a.lastCritical);d&&(a.lastCritical=n);var s,u,c=(u=o,!(null==(s=a.lastLocation)&&null==u||null!=s&&null!=u&&s.droppableId===u.droppableId&&s.index===u.index));c&&(a.lastLocation=o);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(a.lastCombine,l);if(p&&(a.lastCombine=l),d||c||p){var f=Fe({},yr(n,a.mode),{combine:l,destination:o});r.add((function(){hr(0,(function(){return Er(e().onDragUpdate,f,t,ht)}))}))}},flush:function(){a||ct(!1),r.flush()},drop:i,abort:function(){if(a){var e=Fe({},yr(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},wr=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&ct(!1),e.dispatch(rr({completed:r.completed}))}else t(n)}}},Sr=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=lt(window,[i])}))}}}},Cr=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(ar({reason:r.reason})))}}}},Dr=Ve.compose,Or=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,i=e.getResponders,o=e.announce,l=e.autoScroller;return(0,Ve.createStore)(Hn,Dr((0,Ve.applyMiddleware)((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,o=i.id,l=i.clientSelection,d=i.movementMode,s=n();"DROP_ANIMATING"===s.phase&&r(rr({completed:s.completed})),"IDLE"!==n().phase&&ct(!1),r(nr()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:d}});var u={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===d}},c=e.startPublishing(u),p=c.critical,f=c.dimensions,m=c.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:l,movementMode:d,viewport:m}})}else t(a)}}}}(n),gr,wr,Sr,Cr,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&ct(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(l),vr,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Ir(i,o))))},xr=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=wt({x:n,y:t},{x:a,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Pr=function(){var e=document.documentElement;return e||ct(!1),e},Tr=function(){var e=Pr();return xr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Ar(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var Rr,Nr,Br=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame((function(){a=null;var e=r,i=e.additions,o=e.removals,l=e.modified,d=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(Et)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),s=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:d,removals:Object.keys(o),modified:s};r={additions:{},removals:{},modified:{}},n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||ct(!1);var a=n.critical.draggable;"ADDITION"===t.type&&Ar(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Ar(e,a,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||ct(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||ct(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||ct(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&ct(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:i.descriptor},l=e.subscribe(a);return n={critical:o,unsubscribe:l},function(e){var t,n,r,a,i,o,l,d=e.critical,s=e.scrollOptions,u=e.registry,c=(t=br(),n=Tr(),r=t.y,a=t.x,o=(i=Pr()).clientWidth,l=i.clientHeight,{frame:We({top:r,left:a,right:a+o,bottom:r+l}),scroll:{initial:t,current:t,max:n,diff:{value:Et,displacement:Et}}}),p=c.scroll.current,f=d.droppable,m=u.droppable.getAllByType(f.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(p,s)})),g=u.draggable.getAllByType(d.draggable.type).map((function(e){return e.getDimension(p)}));return{dimensions:{draggables:jt(g),droppables:Vt(m)},critical:d,viewport:c}}({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return i},Lr=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Mr=function(e){window.scrollBy(e.x,e.y)},kr=tt((function(e){return Ut(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Fr=function(e){return Math.pow(e,2)},Vr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},jr=360,Ur=1200,Gr=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=Vr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*Fr(1-n);return Math.ceil(r)}(t,n);return 0===i?0:a?Math.max(function(e,t){var n=t,r=Ur,a=Date.now()-n;if(a>=Ur)return e;if(a<jr)return 1;var i=Vr({startOfRange:jr,endOfRange:r,current:a}),o=e*Fr(i);return Math.ceil(o)}(i,r),1):i},_r=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,a);return n[a.end]<n[a.start]?Gr({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*Gr({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},Wr=Pt((function(e){return 0===e?0:e})),Hr=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},l=_r({container:n,distanceToEdges:o,dragStartTime:t,axis:Zt,shouldUseTimeDampening:i}),d=_r({container:n,distanceToEdges:o,dragStartTime:t,axis:en,shouldUseTimeDampening:i}),s=Wr({x:d,y:l});if(St(s,Et))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return i||a?i&&a?null:{x:i?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:s});return u?St(u,Et)?null:u:null},$r=Pt((function(e){return 0===e?0:e>0?1:-1})),qr=(Rr=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,a=It(t,r),i={x:Rr(a.x,n.x),y:Rr(a.y,n.y)};return St(i,Et)?null:i}),Qr=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=$r(r),o=qr({max:a,current:n,change:i});return!o||0!==i.x&&0===o.x||0!==i.y&&0===o.y},zr=function(e,t){return Qr({current:e.scroll.current,max:e.scroll.max,change:t})},Kr=function(e,t){var n=e.frame;return!!n&&Qr({current:n.scroll.current,max:n.scroll.max,change:t})},Yr=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var d=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.shouldUseTimeDampening,i=Hr({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:a});return i&&zr(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:o,shouldUseTimeDampening:r});if(d)return void a(d)}var s=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}var i=function(e,t){var n=kt(kr(t),(function(t){return t.frame||ct(!1),An(t.frame.pageMarginBox)(e)}));return n}(t,r);return i}({center:o,destination:xn(t.impact),droppables:t.dimensions.droppables});if(s){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Hr({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return l&&Kr(t,l)?l:null}({dragStartTime:n,droppable:s,subject:l,center:o,shouldUseTimeDampening:r});u&&i(s.descriptor.id,u)}},Jr=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var a=e.scrollJumpRequest;if(a){var i=xn(e.impact);i||ct(!1);var o=function(e,t){if(!Kr(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Kr(e,t)?qr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=wt(t,r);return n(e.descriptor.id,a),wt(t,a)}(e.dimensions.droppables[i],a);if(o){var l=e.viewport,d=function(e,t,n){if(!e)return n;if(!zr(t,n))return n;var a=function(e,t){if(!zr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return qr({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var i=wt(n,a);return r(i),wt(n,i)}(e.isWindowScrollAllowed,l,o);d&&function(e,n){var r=It(e.current.client.selection,n);t({client:r})}(e,d)}}}},Xr=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollDroppable,n=nt(e.scrollWindow),r=nt(t),a=null,i=function(e){a||ct(!1);var t=a,i=t.shouldUseTimeDampening,o=t.dragStartTime;Yr({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:o,shouldUseTimeDampening:i})};return{start:function(e){a&&ct(!1);var t=Date.now(),n=!1,r=function(){n=!0};Yr({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),a={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){a&&(n.cancel(),r.cancel(),a=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),i=Jr({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},start:a.start,stop:a.stop}},Zr="data-rbd",ea={base:Nr=Zr+"-drag-handle",draggableId:Nr+"-draggable-id",contextId:Nr+"-context-id"},ta=function(){var e=Zr+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),na=function(){var e=Zr+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ra={contextId:Zr+"-scroll-container-context-id"},aa=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},ia=function(e){var t,n,r,a=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:a(ea.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),o=[(r="\n      transition: "+ur.outOfTheWay+";\n    ",{selector:a(ta.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:a(na.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:aa(o,"always"),resting:aa(o,"resting"),dragging:aa(o,"dragging"),dropAnimating:aa(o,"dropAnimating"),userCancel:aa(o,"userCancel")}},oa="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,la=function(){var e=document.querySelector("head");return e||ct(!1),e},da=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},sa=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ua(e){return e instanceof sa(e).HTMLElement}function ca(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,i=r(a);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||ct(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Lt(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||ct(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return Lt(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var pa=r().createContext(null),fa=function(){var e=document.body;return e||ct(!1),e},ma={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ga=function(e){return"rbd-announcement-"+e},ba=0,va={separator:"::"};function ha(e,t){return void 0===t&&(t=va),Ge((function(){return""+e+t.separator+ba++}),[t.separator,e])}var ya=r().createContext(null);function Ea(e){var t=(0,n.useRef)(e);return(0,n.useEffect)((function(){t.current=e})),t}var Ia,wa,Sa=((Ia={})[13]=!0,Ia[9]=!0,Ia),Ca=function(e){Sa[e.keyCode]&&e.preventDefault()},Da=function(){var e="visibilitychange";return"undefined"==typeof document?e:kt([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),Oa={type:"IDLE"};function xa(){}var Pa=((wa={})[34]=!0,wa[33]=!0,wa[36]=!0,wa[35]=!0,wa);var Ta={type:"IDLE"},Aa={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Ra(e,t){if(null==t)return!1;if(Boolean(Aa[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Ra(e,t.parentElement)}function Na(e,t){var n=t.target;return!!ua(n)&&Ra(e,n)}var Ba=function(e){return We(e.getBoundingClientRect()).center},La=function(){var e="matches";return"undefined"==typeof document?e:kt([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function Ma(e,t){return null==e?null:e[La](t)?e:Ma(e.parentElement,t)}function ka(e,t){return e.closest?e.closest(t):Ma(e,t)}function Fa(e){e.preventDefault()}function Va(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function ja(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!!i&&!!i.options.isEnabled&&!!Lr(n.getState(),a)}var Ua=[function(e){var t=(0,n.useRef)(Oa),r=(0,n.useRef)(ot),a=Ge((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var a=e.tryGetLock(n,l,{sourceEvent:t});if(a){t.preventDefault();var i={x:t.clientX,y:t.clientY};r.current(),u(a,i)}}}}}}),[e]),i=Ge((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=_e((function(){r.current=lt(window,[i,a],{passive:!1,capture:!0})}),[i,a]),l=_e((function(){"IDLE"!==t.current.type&&(t.current=Oa,r.current(),o())}),[o]),d=_e((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),s=_e((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var o={x:n,y:i},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(o);if("PENDING"!==l.type&&ct(!1),d=l.point,s=o,Math.abs(s.x-d.x)>=5||Math.abs(s.y-d.y)>=5){var d,s;e.preventDefault();var u=l.actions.fluidLift(o);a({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Ca(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&ct(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Da,fn:t}]}({cancel:d,completed:l,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=lt(window,e,{capture:!0,passive:!1})}),[d,l]),u=_e((function(e,n){"IDLE"!==t.current.type&&ct(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);oa((function(){return o(),function(){r.current()}}),[o])},function(e){var t=(0,n.useRef)(xa),r=Ge((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,d,{sourceEvent:n});if(i){n.preventDefault();var o=!0,l=i.snapLift();t.current(),t.current=lt(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Pa[r.keyCode]?r.preventDefault():Ca(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Da,fn:n}]}(l,d),{capture:!0,passive:!1})}}}function d(){o||ct(!1),o=!1,t.current(),a()}}}}),[e]),a=_e((function(){t.current=lt(window,[r],{passive:!1,capture:!0})}),[r]);oa((function(){return a(),function(){t.current()}}),[a])},function(e){var t=(0,n.useRef)(Ta),r=(0,n.useRef)(ot),a=_e((function(){return t.current}),[]),i=_e((function(e){t.current=e}),[]),o=Ge((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var a=e.tryGetLock(n,d,{sourceEvent:t});if(a){var i=t.touches[0],o={x:i.clientX,y:i.clientY};r.current(),p(a,o)}}}}}}),[e]),l=_e((function(){r.current=lt(window,[o],{capture:!0,passive:!1})}),[o]),d=_e((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(Ta),r.current(),l())}),[l,i]),s=_e((function(){var e=t.current;d(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[d]),u=_e((function(){var e={capture:!0,passive:!1},t={cancel:s,completed:d,getPhase:a},n=lt(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],i={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&ct(!1);var a=e.touches[0];if(a&&a.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Da,fn:t}]}(t),e),i=lt(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Da,fn:t}]}(t),e);r.current=function(){n(),i()}}),[s,a,d]),c=_e((function(){var e=a();"PENDING"!==e.type&&ct(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,i]),p=_e((function(e,t){"IDLE"!==a().type&&ct(!1);var n=setTimeout(c,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,a,i,c]);oa((function(){return l(),function(){r.current();var e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(Ta))}}),[a,l,i]),oa((function(){return lt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Ga(e){var t=e.contextId,r=e.store,a=e.registry,i=e.customSensors,o=e.enableDefaultSensors,l=[].concat(o?Ua:[],i||[]),d=(0,n.useState)((function(){return function(){var e=null;function t(){e||ct(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&ct(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],s=_e((function(e,t){e.isDragging&&!t.isDragging&&d.tryAbandon()}),[d]);oa((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();s(e,t),e=t}))}),[d,r,s]),oa((function(){return d.tryAbandon}),[d.tryAbandon]);for(var u=_e((function(e){return ja({lockAPI:d,registry:a,store:r,draggableId:e})}),[d,a,r]),c=_e((function(e,n,i){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent;if(!ja({lockAPI:t,store:r,registry:a,draggableId:i}))return null;var d=a.draggable.getById(i),s=function(e,t){var n="["+ta.contextId+'="'+e+'"]',r=kt(Ft(document.querySelectorAll(n)),(function(e){return e.getAttribute(ta.id)===t}));return r&&ua(r)?r:null}(n,d.descriptor.id);if(!s)return null;if(l&&!d.options.canDragInteractiveElements&&Na(s,l))return null;var u=t.claim(o||ot),c="PRE_DRAG";function p(){return d.options.shouldRespectForcePress}function f(){return t.isActive(u)}var m=function(e,t){Va({expected:e,phase:c,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function g(e){function n(){t.release(),c="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var i=lt(window,[{eventName:"click",fn:Fa,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(ar({reason:t}))}return"PRE_DRAG"!==c&&(n(),"PRE_DRAG"!==c&&ct(!1)),r.dispatch($n(e.liftActionArgs)),c="DRAGGING",Fe({isActive:function(){return Va({expected:"DRAGGING",phase:c,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return Va({expected:"PRE_DRAG",phase:c,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=nt((function(e){m((function(){return Jn({client:e})}))}));return Fe({},g({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return m(Xn)},moveRight:function(){return m(er)},moveDown:function(){return m(Zn)},moveLeft:function(){return m(tr)}};return g({liftActionArgs:{id:i,clientSelection:Ba(s),movementMode:"SNAP"},cleanup:ot,actions:e})},abort:function(){Va({expected:"PRE_DRAG",phase:c,isLockActive:f,shouldWarn:!0})&&t.release()}}}({lockAPI:d,registry:a,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,d,a,r]),p=_e((function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof sa(n).Element))return null;var a=function(e){return"["+ea.contextId+'="'+e+'"]'}(e),i=ka(r,a);return i&&ua(i)?i:null}(e,t);return n?n.getAttribute(ea.draggableId):null}(t,e)}),[t]),f=_e((function(e){var t=a.draggable.findById(e);return t?t.options:null}),[a.draggable]),m=_e((function(){d.isClaimed()&&(d.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch(nr()))}),[d,r]),g=_e(d.isClaimed,[d]),b=Ge((function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:g}}),[u,c,p,f,m,g]),v=0;v<l.length;v++)l[v](b)}var _a=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Wa(e){return e.current||ct(!1),e.current}function Ha(e){var t=e.contextId,a=e.setCallbacks,i=e.sensors,o=e.nonce,l=e.dragHandleUsageInstructions,d=(0,n.useRef)(null),s=Ea(e),u=_e((function(){return _a(s.current)}),[s]),c=function(e){var t=Ge((function(){return ga(e)}),[e]),r=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Fe(e.style,ma),fa().appendChild(e),function(){setTimeout((function(){var t=fa();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),_e((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,r=e.text,a=ha("hidden-text",{separator:"-"}),i=Ge((function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:t,uniqueId:a})}),[a,t]);return(0,n.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=r,e.style.display="none",fa().appendChild(e),function(){var t=fa();t.contains(e)&&t.removeChild(e)}}),[i,r]),i}({contextId:t,text:l}),f=function(e,t){var r=Ge((function(){return ia(e)}),[e]),a=(0,n.useRef)(null),i=(0,n.useRef)(null),o=_e(tt((function(e){var t=i.current;t||ct(!1),t.textContent=e})),[]),l=_e((function(e){var t=a.current;t||ct(!1),t.textContent=e}),[]);oa((function(){(a.current||i.current)&&ct(!1);var n=da(t),d=da(t);return a.current=n,i.current=d,n.setAttribute(Zr+"-always",e),d.setAttribute(Zr+"-dynamic",e),la().appendChild(n),la().appendChild(d),l(r.always),o(r.resting),function(){var e=function(e){var t=e.current;t||ct(!1),la().removeChild(t),e.current=null};e(a),e(i)}}),[t,l,o,r.always,r.resting,e]);var d=_e((function(){return o(r.dragging)}),[o,r.dragging]),s=_e((function(e){o("DROP"!==e?r.userCancel:r.dropAnimating)}),[o,r.dropAnimating,r.userCancel]),u=_e((function(){i.current&&o(r.resting)}),[o,r.resting]);return Ge((function(){return{dragging:d,dropping:s,resting:u}}),[d,s,u])}(t,o),m=_e((function(e){Wa(d).dispatch(e)}),[]),g=Ge((function(){return(0,Ve.bindActionCreators)({publishWhileDragging:qn,updateDroppableScroll:zn,updateDroppableIsEnabled:Kn,updateDroppableIsCombineEnabled:Yn,collectionStarting:Qn},m)}),[m]),b=function(){var e=Ge(ca,[]);return(0,n.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),v=Ge((function(){return Br(b,g)}),[b,g]),h=Ge((function(){return Xr(Fe({scrollWindow:Mr,scrollDroppable:v.scrollDroppable},(0,Ve.bindActionCreators)({move:Jn},m)))}),[v.scrollDroppable,m]),y=function(e){var t=(0,n.useRef)({}),r=(0,n.useRef)(null),a=(0,n.useRef)(null),i=(0,n.useRef)(!1),o=_e((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),l=_e((function(t){var n=function(e,t){var n="["+ea.contextId+'="'+e+'"]',r=Ft(document.querySelectorAll(n));if(!r.length)return null;var a=kt(r,(function(e){return e.getAttribute(ea.draggableId)===t}));return a&&ua(a)?a:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),d=_e((function(e,t){r.current===e&&(r.current=t)}),[]),s=_e((function(){a.current||i.current&&(a.current=requestAnimationFrame((function(){a.current=null;var e=r.current;e&&l(e)})))}),[l]),u=_e((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(ea.draggableId)===e&&(r.current=e)}),[]);return oa((function(){return i.current=!0,function(){i.current=!1;var e=a.current;e&&cancelAnimationFrame(e)}}),[]),Ge((function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:s,tryShiftRecord:d}}),[o,u,s,d])}(t),E=Ge((function(){return Or({announce:c,autoScroller:h,dimensionMarshal:v,focusMarshal:y,getResponders:u,styleMarshal:f})}),[c,h,v,y,u,f]);d.current=E;var I=_e((function(){var e=Wa(d);"IDLE"!==e.getState().phase&&e.dispatch(nr())}),[]),w=_e((function(){var e=Wa(d).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);a(Ge((function(){return{isDragging:w,tryAbort:I}}),[w,I]));var S=_e((function(e){return Lr(Wa(d).getState(),e)}),[]),C=_e((function(){return Tn(Wa(d).getState())}),[]),D=Ge((function(){return{marshal:v,focus:y,contextId:t,canLift:S,isMovementAllowed:C,dragHandleUsageInstructionsId:p,registry:b}}),[t,v,p,y,S,C,b]);return Ga({contextId:t,store:E,registry:b,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,n.useEffect)((function(){return I}),[I]),r().createElement(ya.Provider,{value:D},r().createElement(je.Provider,{context:pa,store:E},e.children))}var $a=0;function qa(e){var t=Ge((function(){return""+$a++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return r().createElement(pt,null,(function(a){return r().createElement(Ha,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Qa=function(e){return function(t){return e===t}},za=Qa("scroll"),Ka=Qa("auto"),Ya=(Qa("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Ja=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Ya(n,za)||Ya(n,Ka)}(t)?t:e(t.parentElement)},Xa=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Za=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},ei={passive:!1},ti={passive:!0},ni=function(e){return e.shouldPublishImmediately?ei:ti};function ri(e){var t=(0,n.useContext)(e);return t||ct(!1),t}var ai=function(e){return e&&e.env.closestScrollable||null};function ii(){}var oi={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},li=r().memo((function(e){var t=(0,n.useRef)(null),a=_e((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,o=e.onTransitionEnd,l=e.onClose,d=e.contextId,s=(0,n.useState)("open"===e.animate),u=s[0],c=s[1];(0,n.useEffect)((function(){return u?"open"!==i?(a(),c(!1),ii):t.current?ii:(t.current=setTimeout((function(){t.current=null,c(!1)})),a):ii}),[i,u,a]);var p=_e((function(e){"height"===e.propertyName&&(o(),"close"===i&&l())}),[i,l,o]),f=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?oi:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?ur.placeholder:null}}({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return r().createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":d,onTransitionEnd:p,ref:e.innerRef})})),di=r().createContext(null),si=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return ke(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r().PureComponent),ui=5e3,ci=4500,pi=function(e,t){return t?ur.drop(t.duration):e?ur.snap:ur.fluid},fi=function(e,t){return e?t?or:lr:null};function mi(e){e.preventDefault()}var gi=function(e,t){return e===t},bi=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function vi(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var hi={mapped:{type:"SECONDARY",offset:Et,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:vi(null)}},yi={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},Ei=(0,je.connect)((function(){var e,t,n,r=(e=tt((function(e,t){return{x:e,y:t}})),t=tt((function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=tt((function(e,n,r,a,i,o,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,a,i,o,null)}}})),function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var i=r.current.client.offset,o=r.dimensions.draggables[a.draggableId],l=xn(r.impact),d=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,s=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,o,a.isClone,l,d,s)}var u;if("DROP_ANIMATING"===r.phase){var c=r.completed;if(c.result.draggableId!==a.draggableId)return null;var p=a.isClone,f=r.dimensions.draggables[a.draggableId],m=c.result,g=m.mode,b=bi(m),v=function(e){return e.combine?e.combine.draggableId:null}(m),h={duration:r.dropDuration,curve:ir,moveTo:r.newHomeClientOffset,opacity:v?or:null,scale:v?dr:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:h,draggingOver:b,combineWith:v,mode:g,forceShouldAnimate:null,snapshot:t(g,p,b,v,h)}}}return null}),a=function(){var e=tt((function(e,t){return{x:e,y:t}})),t=tt(vi),n=tt((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Et,e,!0):null},a=function(t,a,i,o){var l=i.displaced.visible[t],d=Boolean(o.inVirtualList&&o.effected[t]),s=Ht(i),u=s&&s.draggableId===t?a:null;if(!l){if(!d)return r(u);if(i.displaced.invisible[t])return null;var c=Ct(o.displacedBy.point),p=e(c.x,c.y);return n(p,u,!0)}if(d)return r(u);var f=i.displacedBy.point,m=e(f.x,f.y);return n(m,u,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||a(e,t)||hi}}),yi,null,{context:pa,pure:!0,areStatePropsEqual:gi})((function(e){var t=(0,n.useRef)(null),r=_e((function(e){t.current=e}),[]),a=_e((function(){return t.current}),[]),i=ri(ya),o=i.contextId,l=i.dragHandleUsageInstructionsId,d=i.registry,s=ri(di),u=s.type,c=s.droppableId,p=Ge((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:c}}),[e.draggableId,e.index,u,c]),f=e.children,m=e.draggableId,g=e.isEnabled,b=e.shouldRespectForcePress,v=e.canDragInteractiveElements,h=e.isClone,y=e.mapped,E=e.dropAnimationFinished;h||function(e){var t=ha("draggable"),r=e.descriptor,a=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,l=e.shouldRespectForcePress,d=e.isEnabled,s=Ge((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:d}}),[o,d,l]),u=_e((function(e){var t=i();return t||ct(!1),function(e,t,n){void 0===n&&(n=Et);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Je(a,r),o=Ye(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:o}}(r,t,e)}),[r,i]),c=Ge((function(){return{uniqueId:t,descriptor:r,options:s,getDimension:u}}),[r,u,s,t]),p=(0,n.useRef)(c),f=(0,n.useRef)(!0);oa((function(){return a.draggable.register(p.current),function(){return a.draggable.unregister(p.current)}}),[a.draggable]),oa((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=c,a.draggable.update(c,e)}}),[c,a.draggable])}(Ge((function(){return{descriptor:p,registry:d,getDraggableRef:a,canDragInteractiveElements:v,shouldRespectForcePress:b,isEnabled:g}}),[p,d,a,v,b,g]));var I=Ge((function(){return g?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:mi}:null}),[o,l,m,g]),w=_e((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&E()}),[E,y]),S=Ge((function(){var e=function(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,i=Boolean(r),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),l=Boolean(a),d=l?fr(n,i):pr(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:pi(o,a),transform:d,opacity:fi(i,l),zIndex:l?ci:ui,pointerEvents:"none"}}(e):{transform:pr((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}(y),t="DRAGGING"===y.type&&y.dropping?w:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:I}}),[o,I,m,y,w,r]),C=Ge((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(S,y.snapshot,C)}));function Ii(e){return ri(di).isUsingCloneFor!==e.draggableId||e.isClone?r().createElement(Ei,e):null}function wi(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return r().createElement(Ii,Fe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:a}))}var Si=function(e,t){return e===t.droppable.type},Ci=function(e,t){return t.draggables[e.draggable.id]},Di={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||ct(!1),document.body}},Oi=(0,je.connect)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Fe({},e,{shouldAnimatePlaceholder:!1}),n=tt((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=tt((function(r,a,i,o,l,d){var s=l.descriptor.id;if(l.descriptor.droppableId===r){var u=d?{render:d,dragging:n(l.descriptor)}:null,c={isDraggingOver:i,draggingOverWith:i?s:null,draggingFromThisWith:s,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:c,useClone:u}}if(!a)return t;if(!o)return e;var p={isDraggingOver:i,draggingOverWith:s,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,a){var i=a.droppableId,o=a.type,l=!a.isDropDisabled,d=a.renderClone;if(n.isDragging){var s=n.critical;if(!Si(o,s))return t;var u=Ci(s,n.dimensions),c=xn(n.impact)===i;return r(i,l,c,c,u,d)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!Si(o,p.critical))return t;var f=Ci(p.critical,n.dimensions);return r(i,l,bi(p.result)===i,xn(p.impact)===i,f,d)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var m=n.completed;if(!Si(o,m.critical))return t;var g=xn(m.impact)===i,b=Boolean(m.impact.at&&"COMBINE"===m.impact.at.type),v=m.critical.droppable.id===i;return g?b?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:pa,pure:!0,areStatePropsEqual:gi})((function(e){var t=(0,n.useContext)(ya);t||ct(!1);var a=t.contextId,i=t.isMovementAllowed,o=(0,n.useRef)(null),l=(0,n.useRef)(null),d=e.children,s=e.droppableId,u=e.type,c=e.mode,p=e.direction,f=e.ignoreContainerClipping,m=e.isDropDisabled,g=e.isCombineEnabled,b=e.snapshot,v=e.useClone,h=e.updateViewportMaxScroll,y=e.getContainerForClone,E=_e((function(){return o.current}),[]),I=_e((function(e){o.current=e}),[]),w=(_e((function(){return l.current}),[]),_e((function(e){l.current=e}),[])),S=_e((function(){i()&&h({maxScroll:Tr()})}),[i,h]);!function(e){var t=(0,n.useRef)(null),r=ri(ya),a=ha("droppable"),i=r.registry,o=r.marshal,l=Ea(e),d=Ge((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),s=(0,n.useRef)(d),u=Ge((function(){return tt((function(e,n){t.current||ct(!1);var r={x:e,y:n};o.updateDroppableScroll(d.id,r)}))}),[d.id,o]),c=_e((function(){var e=t.current;return e&&e.env.closestScrollable?Xa(e.env.closestScrollable):Et}),[]),p=_e((function(){var e=c();u(e.x,e.y)}),[c,u]),f=Ge((function(){return nt(p)}),[p]),m=_e((function(){var e=t.current,n=ai(e);e&&n||ct(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),g=_e((function(e,n){t.current&&ct(!1);var a=l.current,i=a.getDroppableRef();i||ct(!1);var o=function(e){return{closestScrollable:Ja(e),isFixedOnPage:Za(e)}}(i),s={ref:i,descriptor:d,env:o,scrollOptions:n};t.current=s;var u=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,d=e.shouldClipSubject,s=r.closestScrollable,u=function(e,t){var n=Xe(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,o=a+t.scrollWidth,l=He({top:r,right:o,bottom:i,left:a},n.border);return Qe({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,s),c=Ye(u,a),p=function(){if(!s)return null;var e=Xe(s),t={scrollHeight:s.scrollHeight,scrollWidth:s.scrollWidth};return{client:e,page:Ye(e,a),scroll:Xa(s),scrollSize:t,shouldClipSubject:d}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,d=e.closest,s=function(){if(!d)return null;var e=d.scrollSize,t=d.client,n=xr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:d.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:d.shouldClipSubject,scroll:{initial:d.scroll,current:d.scroll,max:n,diff:{value:Et,displacement:Et}}}}(),u="vertical"===i?Zt:en;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:u,isEnabled:n,client:o,page:l,frame:s,subject:Nt({page:l,withPlaceholder:null,axis:u,frame:s})}}({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:c,closest:p});return f}({ref:i,descriptor:d,env:o,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),c=o.closestScrollable;return c&&(c.setAttribute(ra.contextId,r.contextId),c.addEventListener("scroll",m,ni(s.scrollOptions))),u}),[r.contextId,d,m,l]),b=_e((function(){var e=t.current,n=ai(e);return e&&n||ct(!1),Xa(n)}),[]),v=_e((function(){var e=t.current;e||ct(!1);var n=ai(e);t.current=null,n&&(f.cancel(),n.removeAttribute(ra.contextId),n.removeEventListener("scroll",m,ni(e.scrollOptions)))}),[m,f]),h=_e((function(e){var n=t.current;n||ct(!1);var r=ai(n);r||ct(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=Ge((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:b,dragStopped:v,scroll:h}}),[v,g,b,h]),E=Ge((function(){return{uniqueId:a,descriptor:d,callbacks:y}}),[y,d,a]);oa((function(){return s.current=E.descriptor,i.droppable.register(E),function(){t.current&&v(),i.droppable.unregister(E)}}),[y,d,v,E,o,i.droppable]),oa((function(){t.current&&o.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),oa((function(){t.current&&o.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:s,type:u,mode:c,direction:p,isDropDisabled:m,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:E});var C=r().createElement(si,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,n=e.data,i=e.animate;return r().createElement(li,{placeholder:n,onClose:t,innerRef:w,animate:i,contextId:a,onTransitionEnd:S})})),D=Ge((function(){return{innerRef:I,placeholder:C,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":a}}}),[a,s,C,I]),O=v?v.dragging.draggableId:null,x=Ge((function(){return{droppableId:s,type:u,isUsingCloneFor:O}}),[s,O,u]);return r().createElement(di.Provider,{value:x},d(D,b),function(){if(!v)return null;var e=v.dragging,t=v.render,n=r().createElement(Ii,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return at().createPortal(n,y())}())}));Oi.defaultProps=Di;var xi=c(644);const Pi=e=>({content:xi.css`
      border: 1px solid ${e.colors.border.weak};
      padding: ${e.spacing(1)};
    `,item:xi.css`
      margin-bottom: ${e.spacing(1)};
    `,dragIcon:xi.css`
      cursor: grab;
      color: ${e.colors.text.disabled};
      margin: ${e.spacing(0,.5)};
      &:hover {
        color: ${e.colors.text};
      }
    `,removeButton:xi.css`
      margin-left: ${e.spacing(1)};
      color: ${e.colors.text.secondary};
    `}),Ti=({title:e,actions:n,children:a,isOpen:i=!1,onToggle:o,headerTestId:l,contentTestId:d})=>{const s=(u=(0,t.useTheme2)(),{header:xi.css`
      label: Header;
      padding: ${u.spacing(.5,.5)};
      border-radius: ${u.shape.borderRadius(1)};
      background: ${u.colors.background.secondary};
      min-height: ${u.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,title:xi.css`
      font-weight: ${u.typography.fontWeightBold};
      margin-left: ${u.spacing(.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:xi.css`
      margin-left: ${u.spacing(.5)};
      color: ${u.colors.text.disabled};
    `,actions:xi.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `,content:xi.css`
      margin-top: ${u.spacing(.5)};
      margin-left: ${u.spacing(.5)};
    `});var u;return r().createElement(r().Fragment,null,r().createElement("div",{className:s.header,"data-testid":l,onClick:o},r().createElement(t.IconButton,{name:i?"angle-down":"angle-right",tooltip:i?"Collapse":"Expand",className:s.collapseIcon,"aria-expanded":i}),r().createElement("div",{className:s.title},e),n&&r().createElement("div",{className:s.actions,onClick:e=>e.stopPropagation()},n)),i&&r().createElement("div",{className:s.content,"data-testid":d},a))};function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ai(e,t,n[t])}))}return e}function Ni(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Bi=({options:e=[],onChange:a,onChangeItem:i})=>{const o=(0,t.useStyles2)(Pi),[l,d]=(0,n.useState)({}),s=(0,n.useCallback)((t=>{t.destination&&a(pe(e,t.source.index,t.destination.index))}),[e,a]),u=(0,n.useCallback)((e=>{d((t=>Ni(Ri({},t),{[e]:!t[e]})))}),[]);return r().createElement(r().Fragment,null,r().createElement(t.Label,null,"Options"),r().createElement("div",{className:o.content},r().createElement(qa,{onDragEnd:s},r().createElement(Oi,{droppableId:"options"},(n=>r().createElement("div",Ni(Ri({},n.droppableProps),{ref:n.innerRef}),e.map(((n,d)=>{const s=!l[n.id];return r().createElement(wi,{key:n.id,draggableId:n.id,index:d},((l,d)=>{return r().createElement("div",Ni(Ri({},l.draggableProps),{ref:l.innerRef,style:(d.isDragging,c=l.draggableProps.style,Ri({},c)),className:o.item}),r().createElement(Ti,{headerTestId:E.formElementsEditor.optionLabel(n.id),contentTestId:E.formElementsEditor.optionContent(n.id),isOpen:s,onToggle:()=>u(n.id),title:r().createElement(r().Fragment,null,n.label," [",n.id,"]"),actions:r().createElement(r().Fragment,null,r().createElement(t.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:o.removeButton,"data-testid":E.formElementsEditor.buttonRemoveOption,onClick:()=>{var t;return a(null===(t=e)||void 0===t?void 0:t.filter((e=>e.id!==n.id)))}}),r().createElement(t.Icon,Ri({title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:o.dragIcon},l.dragHandleProps)))},r().createElement(r().Fragment,null,r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Type",labelWidth:6},r().createElement(t.Select,{options:C,onChange:e=>{var t,r;const a=(null===(t=e)||void 0===t?void 0:t.value)===I.NUMBER?Number(n.value)||0:String(n.value);i(Ni(Ri({},n),{value:a,id:a.toString(),type:null===(r=e)||void 0===r?void 0:r.value}),n)},width:12,value:n.type,"aria-label":E.formElementsEditor.fieldOptionType})),r().createElement(t.InlineField,{label:"Value",labelWidth:6,grow:!0},r().createElement(t.Input,{placeholder:n.type===I.NUMBER?"number":"string",type:n.type===I.NUMBER?"number":void 0,onChange:e=>{i(Ni(Ri({},n),{value:n.type===I.NUMBER?Number(e.target.value):e.target.value}),n,!0)},onBlur:()=>{var e;const t=(null===(e=n.value)||void 0===e?void 0:e.toString())||M.id;i(Ni(Ri({},n),{id:t}),n)},value:n.value,"data-testid":E.formElementsEditor.fieldOptionValue}))),r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Icon",labelWidth:6},r().createElement(t.Select,{onChange:e=>{var t;i(Ni(Ri({},n),{icon:null===(t=e)||void 0===t?void 0:t.value}))},options:x,isClearable:!0,value:n.icon,width:12,"aria-label":E.formElementsEditor.fieldOptionIcon})),r().createElement(t.InlineField,{label:"Label",labelWidth:6,grow:!0,shrink:!0},r().createElement(t.Input,{placeholder:"label",onChange:e=>{i(Ni(Ri({},n),{label:e.target.value}))},value:n.label,"data-testid":E.formElementsEditor.fieldOptionLabel}))))));var c}))})),n.placeholder)))),r().createElement(t.Button,{variant:"secondary",onClick:()=>{const t=Ri({},M);a(e.concat(t))},icon:"plus","data-testid":E.formElementsEditor.buttonAddOption,size:"sm",disabled:e.some((e=>e.id===M.id))},"Add Option")))},Li=e=>({optionsContainer:xi.css`
      margin: ${e.spacing(1,0)};
    `});function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Mi(e,t,n[t])}))}return e}function Fi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Vi=({element:e,onChange:n,onChangeOption:a,layoutSectionOptions:i,initialMethod:o,isQueryFieldsEnabled:l,queryFields:d})=>{var s;const u=(0,t.useStyles2)(Li);return r().createElement(r().Fragment,null,r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},r().createElement(t.Input,{placeholder:"Id",onChange:t=>{n(Fi(ki({},e),{id:t.target.value}),!0)},value:e.id,"data-testid":E.formElementsEditor.fieldId})),e.type===I.STRING&&r().createElement(t.InlineField,{"data-testid":E.formElementsEditor.fieldVisibility},r().createElement(t.RadioButtonGroup,{options:D,value:!!e.hidden,onChange:t=>{n(Fi(ki({},e),{hidden:t}))}}))),r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Type",grow:!0,labelWidth:8},r().createElement(t.Select,{options:w,onChange:t=>{var r;n(fe(e,null===(r=t)||void 0===r?void 0:r.value),!0)},value:w.find((t=>t.value===e.type)),"aria-label":E.formElementsEditor.fieldType})),r().createElement(t.InlineField,{label:"Width",labelWidth:12,tooltip:"Element will grow to max length if not specified. Some elements does not support adjusting width."},r().createElement(t.Input,{placeholder:"auto",onChange:t=>{n(Fi(ki({},e),{width:ge(t.target.value)}))},value:be(e.width),min:0,type:"number","data-testid":E.formElementsEditor.fieldWidth}))),r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===e.title},r().createElement(t.Input,{placeholder:"Label",onChange:t=>{n(Fi(ki({},e),{title:t.target.value}))},value:e.title,"data-testid":E.formElementsEditor.fieldLabel})),r().createElement(t.InlineField,{label:"Label Width",labelWidth:12},r().createElement(t.Input,{placeholder:"auto",onChange:t=>{n(Fi(ki({},e),{labelWidth:ge(t.target.value)}))},value:be(e.labelWidth),type:"number","data-testid":E.formElementsEditor.fieldLabelWidth}))),r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Tooltip",grow:!0,labelWidth:8},r().createElement(t.Input,{placeholder:"Tooltip",onChange:t=>{n(Fi(ki({},e),{tooltip:t.target.value}))},value:e.tooltip,"data-testid":E.formElementsEditor.fieldTooltip})),r().createElement(t.InlineField,{label:"Unit",labelWidth:12},r().createElement(t.Input,{placeholder:"Unit",onChange:t=>{n(Fi(ki({},e),{unit:t.target.value}))},value:e.unit,"data-testid":E.formElementsEditor.fieldUnit}))),i.length>0&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Section",grow:!0,labelWidth:8},r().createElement(t.Select,{options:i,onChange:t=>{var r;n(Fi(ki({},e),{section:null===(r=t)||void 0===r?void 0:r.value}))},value:i.find((t=>t.value===e.section)),"aria-label":E.formElementsEditor.fieldSection}))),e.type===I.SLIDER&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Min",labelWidth:8},r().createElement(t.Input,{placeholder:"Min",onChange:t=>{n(Fi(ki({},e),{min:Number(t.target.value)}))},type:"number",width:10,value:e.min,"data-testid":E.formElementsEditor.fieldSliderMin})),r().createElement(t.InlineField,{label:"Max",labelWidth:8},r().createElement(t.Input,{placeholder:"Max",onChange:t=>{n(Fi(ki({},e),{max:Number(t.target.value)}))},type:"number",width:10,value:e.max,"data-testid":E.formElementsEditor.fieldSliderMax})),r().createElement(t.InlineField,{label:"Step",labelWidth:8},r().createElement(t.Input,{placeholder:"Step",onChange:t=>{n(Fi(ki({},e),{step:Number(t.target.value)}))},type:"number",width:10,value:e.step,"data-testid":E.formElementsEditor.fieldSliderStep}))),e.type===I.NUMBER&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Min",labelWidth:8},r().createElement(t.Input,{placeholder:"Min",onChange:t=>{n(Fi(ki({},e),{min:ge(t.target.value)}))},type:"number",width:10,value:be(e.min),"data-testid":E.formElementsEditor.fieldNumberMin})),r().createElement(t.InlineField,{label:"Max",labelWidth:8},r().createElement(t.Input,{placeholder:"Max",onChange:t=>{n(Fi(ki({},e),{max:ge(t.target.value)}))},type:"number",width:10,value:be(e.max),"data-testid":E.formElementsEditor.fieldNumberMax}))),e.type===I.DATETIME&&r().createElement(r().Fragment,null,r().createElement(Le,{label:"Min",onChange:t=>n(Fi(ki({},e),{min:t})),value:e.min,"data-testid":E.formElementsEditor.fieldMinDate}),r().createElement(Le,{label:"Max",onChange:t=>n(Fi(ki({},e),{max:t})),value:e.max,"data-testid":E.formElementsEditor.fieldMaxDate})),e.type===I.TEXTAREA&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Rows",labelWidth:8},r().createElement(t.Input,{placeholder:"Rows",onChange:t=>{n(Fi(ki({},e),{rows:Number(t.target.value)}))},type:"number",width:10,value:e.rows,min:2,"data-testid":E.formElementsEditor.fieldTextareaRows}))),e.type===I.CODE&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{label:"Language",grow:!0,labelWidth:10},r().createElement(t.Select,{options:b,onChange:t=>{var r;n(Fi(ki({},e),{language:null===(r=t)||void 0===r?void 0:r.value}))},value:b.find((t=>t.value===e.language)),"aria-label":E.formElementsEditor.fieldCodeLanguage})),r().createElement(t.InlineField,{label:"Height",labelWidth:12,tooltip:"Code Editor height in px"},r().createElement(t.Input,{placeholder:"Height",onChange:t=>{n(Fi(ki({},e),{height:Number(t.target.value)}))},type:"number",value:e.height,min:0,"data-testid":E.formElementsEditor.fieldCodeHeight}))),o===U.DATASOURCE&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{grow:!0,label:"Field Name",labelWidth:14,tooltip:"Specify a field name from the Data Source response"},r().createElement(t.Input,{value:e.fieldName||"",onChange:t=>{n(Fi(ki({},e),{fieldName:t.target.value}))},"data-testid":E.formElementsEditor.fieldNamePicker}))),l&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{grow:!0,label:"Query Field",labelWidth:14,tooltip:"Specify a field name from the Query"},r().createElement(t.Select,{value:null===(s=e.queryField)||void 0===s?void 0:s.value,options:d,onChange:t=>{n(Fi(ki({},e),{queryField:t}))},"aria-label":E.formElementsEditor.fieldFromQueryPicker,isClearable:!0}))),e.type===I.FILE&&r().createElement(t.InlineFieldRow,null,r().createElement(t.InlineField,{grow:!0,label:"Accept",labelWidth:14,tooltip:"Specify comma-separated file extensions or keep blank to allow any file"},r().createElement(t.Input,{value:e.accept||"",onChange:t=>{n(Fi(ki({},e),{accept:t.target.value}))},"data-testid":E.formElementsEditor.fieldAccept}))),(e.type===I.RADIO||e.type===I.SELECT||e.type===I.MULTISELECT||e.type===I.DISABLED)&&r().createElement("div",{className:u.optionsContainer,"data-testid":E.formElementsEditor.options},r().createElement(Bi,{options:e.options,onChange:t=>n(Fi(ki({},e),{options:t})),onChangeItem:(t,n,r)=>a(e,t,n,r)})),r().createElement(t.Field,{label:"Show if returned value is true"},r().createElement(t.CodeEditor,{value:e.showIf||"",language:g.JAVASCRIPT,height:"200px",onBlur:t=>{n(Fi(ki({},e),{showIf:t}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},showLineNumbers:!0,"aria-label":E.formElementsEditor.fieldShowIf})))};function ji(e){return ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(e)}function Ui(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ji(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ji(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _i(e,t){if(e){if("string"==typeof e)return Gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gi(e,t):void 0}}function Wi(e){return function(e){if(Array.isArray(e))return Gi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],d=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);d=!0);}catch(e){s=!0,a=e}finally{try{if(!d&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||_i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $i=c(42),qi=c.n($i),Qi={},zi=[];function Ki(e,t){}function Yi(e,t){}function Ji(e,t,n){t||Qi[n]||(e(!1,n),Qi[n]=!0)}function Xi(e,t){Ji(Ki,e,t)}Xi.preMessage=function(e){zi.push(e)},Xi.resetWarned=function(){Qi={}},Xi.noteOnce=function(e,t){Ji(Yi,e,t)};const Zi=Xi;function eo(e){var t=n.useRef();t.current=e;var r=n.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return r}var to="undefined"!=typeof window&&window.document&&window.document.createElement?n.useLayoutEffect:n.useEffect,no=function(e,t){!function(e,t){var r=n.useRef(!0);to((function(){return e(r.current)}),t),to((function(){return r.current=!1,function(){r.current=!0}}),[])}((function(t){if(!t)return e()}),t)};function ro(e){var t=n.useRef(!1),r=Hi(n.useState(e),2),a=r[0],i=r[1];return n.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[a,function(e,n){n&&t.current||i(e)}]}function ao(e){return void 0!==e}function io(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){Ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var so={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=so.F1&&t<=so.F12)return!1;switch(t){case so.ALT:case so.CAPS_LOCK:case so.CONTEXT_MENU:case so.CTRL:case so.DOWN:case so.END:case so.ESC:case so.HOME:case so.INSERT:case so.LEFT:case so.MAC_FF_META:case so.META:case so.NUMLOCK:case so.NUM_CENTER:case so.PAGE_DOWN:case so.PAGE_UP:case so.PAUSE:case so.PRINT_SCREEN:case so.RIGHT:case so.SHIFT:case so.UP:case so.WIN_KEY:case so.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=so.ZERO&&e<=so.NINE)return!0;if(e>=so.NUM_ZERO&&e<=so.NUM_MULTIPLY)return!0;if(e>=so.A&&e<=so.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case so.SPACE:case so.QUESTION_MARK:case so.NUM_PLUS:case so.NUM_MINUS:case so.NUM_PERIOD:case so.NUM_DIVISION:case so.SEMICOLON:case so.DASH:case so.EQUALS:case so.COMMA:case so.PERIOD:case so.SLASH:case so.APOSTROPHE:case so.SINGLE_QUOTE:case so.OPEN_SQUARE_BRACKET:case so.BACKSLASH:case so.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const uo=so,co=n.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function po(e,t,n){return(e-t)/(n-t)}function fo(e,t,n,r){var a=po(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*a,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*a,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*a,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*a,"%"),i.transform="translateX(-50%)"}return i}function mo(e,t){return Array.isArray(e)?e[t]:e}var go=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],bo=n.forwardRef((function(e,t){var r,a,i=e.prefixCls,o=e.value,l=e.valueIndex,d=e.onStartMove,s=e.style,u=e.render,c=e.dragging,p=e.onOffsetChange,f=io(e,go),m=n.useContext(co),g=m.min,b=m.max,v=m.direction,h=m.disabled,y=m.keyboard,E=m.range,I=m.tabIndex,w=m.ariaLabelForHandle,S=m.ariaLabelledByForHandle,C=m.ariaValueTextFormatterForHandle,D="".concat(i,"-handle"),O=function(e){h||d(e,l)},x=fo(v,o,g,b),P=n.createElement("div",Fe({ref:t,className:qi()(D,(r={},Ui(r,"".concat(D,"-").concat(l+1),E),Ui(r,"".concat(D,"-dragging"),c),r)),style:lo(lo({},x),s),onMouseDown:O,onTouchStart:O,onKeyDown:function(e){if(!h&&y){var t=null;switch(e.which||e.keyCode){case uo.LEFT:t="ltr"===v||"btt"===v?-1:1;break;case uo.RIGHT:t="ltr"===v||"btt"===v?1:-1;break;case uo.UP:t="ttb"!==v?1:-1;break;case uo.DOWN:t="ttb"!==v?-1:1;break;case uo.HOME:t="min";break;case uo.END:t="max";break;case uo.PAGE_UP:t=2;break;case uo.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),p(t,l))}},tabIndex:h?null:mo(I,l),role:"slider","aria-valuemin":g,"aria-valuemax":b,"aria-valuenow":o,"aria-disabled":h,"aria-label":mo(w,l),"aria-labelledby":mo(S,l),"aria-valuetext":null===(a=mo(C,l))||void 0===a?void 0:a(o)},f));return u&&(P=u(P,{index:l,prefixCls:i,value:o,dragging:c})),P}));const vo=bo;var ho=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],yo=n.forwardRef((function(e,t){var r=e.prefixCls,a=e.style,i=e.onStartMove,o=e.onOffsetChange,l=e.values,d=e.handleRender,s=e.draggingIndex,u=io(e,ho),c=n.useRef({});return n.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=c.current[e])||void 0===t||t.focus()}}})),n.createElement(n.Fragment,null,l.map((function(e,t){return n.createElement(vo,Fe({ref:function(e){e?c.current[t]=e:delete c.current[t]},dragging:s===t,prefixCls:r,style:mo(a,t),key:t,value:e,valueIndex:t,onStartMove:i,onOffsetChange:o,render:d},u))})))}));const Eo=yo;function Io(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function wo(e){var t=e.prefixCls,r=e.style,a=e.start,i=e.end,o=e.index,l=e.onStartMove,d=n.useContext(co),s=d.direction,u=d.min,c=d.max,p=d.disabled,f=d.range,m="".concat(t,"-track"),g=po(a,u,c),b=po(i,u,c),v=function(e){!p&&l&&l(e,-1)},h={};switch(s){case"rtl":h.right="".concat(100*g,"%"),h.width="".concat(100*b-100*g,"%");break;case"btt":h.bottom="".concat(100*g,"%"),h.height="".concat(100*b-100*g,"%");break;case"ttb":h.top="".concat(100*g,"%"),h.height="".concat(100*b-100*g,"%");break;default:h.left="".concat(100*g,"%"),h.width="".concat(100*b-100*g,"%")}return n.createElement("div",{className:qi()(m,f&&"".concat(m,"-").concat(o+1)),style:lo(lo({},h),r),onMouseDown:v,onTouchStart:v})}function So(e){var t=e.prefixCls,r=e.style,a=e.values,i=e.startPoint,o=e.onStartMove,l=n.useContext(co),d=l.included,s=l.range,u=l.min,c=n.useMemo((function(){if(!s){if(0===a.length)return[];var e=null!=i?i:u,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<a.length-1;r+=1)n.push({start:a[r],end:a[r+1]});return n}),[a,s,i,u]);return d?c.map((function(e,a){var i=e.start,l=e.end;return n.createElement(wo,{index:a,prefixCls:t,style:mo(r,a),start:i,end:l,key:a,onStartMove:o})})):null}function Co(e){var t=e.prefixCls,r=e.style,a=e.children,i=e.value,o=e.onClick,l=n.useContext(co),d=l.min,s=l.max,u=l.direction,c=l.includedStart,p=l.includedEnd,f=l.included,m="".concat(t,"-text"),g=fo(u,i,d,s);return n.createElement("span",{className:qi()(m,Ui({},"".concat(m,"-active"),f&&c<=i&&i<=p)),style:lo(lo({},g),r),onMouseDown:function(e){e.stopPropagation()},onClick:function(){o(i)}},a)}function Do(e){var t=e.prefixCls,r=e.marks,a=e.onClick,i="".concat(t,"-mark");return r.length?n.createElement("div",{className:i},r.map((function(e){var t=e.value,r=e.style,o=e.label;return n.createElement(Co,{key:t,prefixCls:i,style:r,value:t,onClick:a},o)}))):null}function Oo(e){var t=e.prefixCls,r=e.value,a=e.style,i=e.activeStyle,o=n.useContext(co),l=o.min,d=o.max,s=o.direction,u=o.included,c=o.includedStart,p=o.includedEnd,f="".concat(t,"-dot"),m=u&&c<=r&&r<=p,g=lo(lo({},fo(s,r,l,d)),"function"==typeof a?a(r):a);return m&&(g=lo(lo({},g),"function"==typeof i?i(r):i)),n.createElement("span",{className:qi()(f,Ui({},"".concat(f,"-active"),m)),style:g})}function xo(e){var t=e.prefixCls,r=e.marks,a=e.dots,i=e.style,o=e.activeStyle,l=n.useContext(co),d=l.min,s=l.max,u=l.step,c=n.useMemo((function(){var e=new Set;if(r.forEach((function(t){e.add(t.value)})),a&&null!==u)for(var t=d;t<=s;)e.add(t),t+=u;return Array.from(e)}),[d,s,u,a,r]);return n.createElement("div",{className:"".concat(t,"-step")},c.map((function(e){return n.createElement(Oo,{prefixCls:t,key:e,value:e,style:i,activeStyle:o})})))}var Po=n.forwardRef((function(e,t){var r,a=e.prefixCls,i=void 0===a?"rc-slider":a,o=e.className,l=e.style,d=e.disabled,s=void 0!==d&&d,u=e.keyboard,c=void 0===u||u,p=e.autoFocus,f=e.onFocus,m=e.onBlur,g=e.min,b=void 0===g?0:g,v=e.max,h=void 0===v?100:v,y=e.step,E=void 0===y?1:y,I=e.value,w=e.defaultValue,S=e.range,C=e.count,D=e.onChange,O=e.onBeforeChange,x=e.onAfterChange,P=e.allowCross,T=void 0===P||P,A=e.pushable,R=void 0!==A&&A,N=e.draggableTrack,B=e.reverse,L=e.vertical,M=e.included,k=void 0===M||M,F=e.startPoint,V=e.trackStyle,j=e.handleStyle,U=e.railStyle,G=e.dotStyle,_=e.activeDotStyle,W=e.marks,H=e.dots,$=e.handleRender,q=e.tabIndex,Q=void 0===q?0:q,z=e.ariaLabelForHandle,K=e.ariaLabelledByForHandle,Y=e.ariaValueTextFormatterForHandle,J=n.useRef(),X=n.useRef(),Z=n.useMemo((function(){return L?B?"ttb":"btt":B?"rtl":"ltr"}),[B,L]),ee=n.useMemo((function(){return isFinite(b)?b:0}),[b]),te=n.useMemo((function(){return isFinite(h)?h:100}),[h]),ne=n.useMemo((function(){return null!==E&&E<=0?1:E}),[E]),re=n.useMemo((function(){return!0===R?ne:R>=0&&R}),[R,ne]),ae=n.useMemo((function(){return Object.keys(W||{}).map((function(e){var t=W[e],r={value:Number(e)};return t&&"object"===ji(t)&&!n.isValidElement(t)&&("label"in t||"style"in t)?(r.style=t.style,r.label=t.label):r.label=t,r})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[W]),ie=function(e,t,r,a,i,o){var l=n.useCallback((function(n){var r=isFinite(n);return r=Math.min(t,n),Math.max(e,r)}),[e,t]),d=n.useCallback((function(n){if(null!==r){var a=e+Math.round((l(n)-e)/r)*r,i=function(e){return(String(e).split(".")[1]||"").length},o=Math.max(i(r),i(t),i(e)),d=Number(a.toFixed(o));return e<=d&&d<=t?d:null}return null}),[r,e,t,l]),s=n.useCallback((function(n){var i=l(n),o=a.map((function(e){return e.value}));null!==r&&o.push(d(n)),o.push(e,t);var s=o[0],u=t-e;return o.forEach((function(e){var t=Math.abs(i-e);t<=u&&(s=e,u=t)})),s}),[e,t,a,r,l,d]),u=function n(i,o,l){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof o){var u,c=i[l],p=c+o,f=[];a.forEach((function(e){f.push(e.value)})),f.push(e,t),f.push(d(c));var m=o>0?1:-1;"unit"===s?f.push(d(c+m*r)):f.push(d(p)),f=f.filter((function(e){return null!==e})).filter((function(e){return o<0?e<=c:e>=c})),"unit"===s&&(f=f.filter((function(e){return e!==c})));var g="unit"===s?c:p;u=f[0];var b=Math.abs(u-g);if(f.forEach((function(e){var t=Math.abs(e-g);t<b&&(u=e,b=t)})),void 0===u)return o<0?e:t;if("dist"===s)return u;if(Math.abs(o)>1){var v=Wi(i);return v[l]=u,n(v,o-m,l,s)}return u}return"min"===o?e:"max"===o?t:void 0},c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],i=u(e,t,n,r);return{value:i,changed:i!==a}},p=function(e){return null===o&&0===e||"number"==typeof o&&e<o};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(s),l=a[n],d=u(a,t,n,r);if(a[n]=d,!1===i){var f=o||0;n>0&&a[n-1]!==l&&(a[n]=Math.max(a[n],a[n-1]+f)),n<a.length-1&&a[n+1]!==l&&(a[n]=Math.min(a[n],a[n+1]-f))}else if("number"==typeof o||null===o){for(var m=n+1;m<a.length;m+=1)for(var g=!0;p(a[m]-a[m-1])&&g;){var b=c(a,1,m);a[m]=b.value,g=b.changed}for(var v=n;v>0;v-=1)for(var h=!0;p(a[v]-a[v-1])&&h;){var y=c(a,-1,v-1);a[v-1]=y.value,h=y.changed}for(var E=a.length-1;E>0;E-=1)for(var I=!0;p(a[E]-a[E-1])&&I;){var w=c(a,-1,E-1);a[E-1]=w.value,I=w.changed}for(var S=0;S<a.length-1;S+=1)for(var C=!0;p(a[S+1]-a[S])&&C;){var D=c(a,1,S+1);a[S+1]=D.value,C=D.changed}}return{value:a[n],values:a}}]}(ee,te,ne,ae,T,re),oe=Hi(ie,2),le=oe[0],de=oe[1],se=function(e,t){var n=t||{},r=n.defaultValue,a=n.value,i=n.onChange,o=n.postState,l=Hi(ro((function(){return ao(a)?a:ao(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),d=l[0],s=l[1],u=void 0!==a?a:d,c=o?o(u):u,p=eo(i),f=Hi(ro([u]),2),m=f[0],g=f[1];return no((function(){var e=m[0];d!==e&&p(d,e)}),[m]),no((function(){ao(a)||s(a)}),[a]),[c,eo((function(e,t){s(e,t),g([u],t)}))]}(w,{value:I}),ue=Hi(se,2),ce=ue[0],pe=ue[1],fe=n.useMemo((function(){var e=null==ce?[]:Array.isArray(ce)?ce:[ce],t=Hi(e,1)[0],n=null===ce?[]:[void 0===t?ee:t];if(S){if(n=Wi(e),C||void 0===ce){var r=C>=0?C+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:ee)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=le(e)})),n}),[ce,S,ee,C,le]),me=n.useRef(fe);me.current=fe;var ge=function(e){return S?e:e[0]},be=function(e){var t=Wi(e).sort((function(e,t){return e-t}));D&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r.has(t);if(Zi(!o,"Warning: There may be circular references"),o)return!1;if(t===a)return!0;if(n&&i>1)return!1;r.add(t);var l=i+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var d=0;d<t.length;d++)if(!e(t[d],a[d],l))return!1;return!0}if(t&&a&&"object"===ji(t)&&"object"===ji(a)){var s=Object.keys(t);return s.length===Object.keys(a).length&&s.every((function(n){return e(t[n],a[n],l)}))}return!1}(e,t)}(t,me.current,!0)&&D(ge(t)),pe(t)},ve=function(e){if(!s){var t=0,n=te-ee;fe.forEach((function(r,a){var i=Math.abs(e-r);i<=n&&(n=i,t=a)}));var r=Wi(fe);r[t]=e,S&&!fe.length&&void 0===C&&r.push(e),null==O||O(ge(r)),be(r),null==x||x(ge(r))}},he=Hi(n.useState(null),2),ye=he[0],Ee=he[1];n.useEffect((function(){if(null!==ye){var e=fe.indexOf(ye);e>=0&&J.current.focus(e)}Ee(null)}),[ye]);var Ie=n.useMemo((function(){return(!N||null!==ne)&&N}),[N,ne]),we=function(e,t,r,a,i,o,l,d,s){var u=Hi(n.useState(null),2),c=u[0],p=u[1],f=Hi(n.useState(-1),2),m=f[0],g=f[1],b=Hi(n.useState(r),2),v=b[0],h=b[1],y=Hi(n.useState(r),2),E=y[0],I=y[1],w=n.useRef(null),S=n.useRef(null);n.useEffect((function(){-1===m&&h(r)}),[r,m]),n.useEffect((function(){return function(){document.removeEventListener("mousemove",w.current),document.removeEventListener("mouseup",S.current),document.removeEventListener("touchmove",w.current),document.removeEventListener("touchend",S.current)}}),[]);var C=function(e,t){v.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&p(t),h(e),l(e))},D=function(e,t){if(-1===e){var n=E[0],r=E[E.length-1],l=a-n,d=i-r,u=t*(i-a);u=Math.max(u,l),u=Math.min(u,d);var c=o(n+u);u=c-n;var p=E.map((function(e){return e+u}));C(p)}else{var f=(i-a)*t,m=Wi(v);m[e]=E[e];var g=s(m,f,e,"dist");C(g.values,g.value)}},O=n.useRef(D);O.current=D;var P=n.useMemo((function(){var e=Wi(r).sort((function(e,t){return e-t})),t=Wi(v).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?v:r}),[r,v]);return[m,c,P,function(n,a){n.stopPropagation();var i=r[a];g(a),p(i),I(r);var o=Io(n),l=o.pageX,d=o.pageY,s=function(n){n.preventDefault();var r,i=Io(n),o=i.pageX,s=i.pageY,u=o-l,c=s-d,p=e.current.getBoundingClientRect(),f=p.width,m=p.height;switch(t){case"btt":r=-c/m;break;case"ttb":r=c/m;break;case"rtl":r=-u/f;break;default:r=u/f}O.current(a,r)},u=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",s),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",s),w.current=null,S.current=null,g(-1),null==x||x(ge(me.current))};document.addEventListener("mouseup",u),document.addEventListener("mousemove",s),document.addEventListener("touchend",u),document.addEventListener("touchmove",s),w.current=s,S.current=u}]}(X,Z,fe,ee,te,le,be,0,de),Se=Hi(we,4),Ce=Se[0],De=Se[1],Oe=Se[2],xe=Se[3],Pe=function(e,t){xe(e,t),null==O||O(ge(me.current))},Te=-1!==Ce;n.useEffect((function(){if(!Te){var e=fe.lastIndexOf(De);J.current.focus(e)}}),[Te]);var Ae=n.useMemo((function(){return Wi(Oe).sort((function(e,t){return e-t}))}),[Oe]),Re=Hi(n.useMemo((function(){return S?[Ae[0],Ae[Ae.length-1]]:[ee,Ae[0]]}),[Ae,S,ee]),2),Ne=Re[0],Be=Re[1];n.useImperativeHandle(t,(function(){return{focus:function(){J.current.focus(0)},blur:function(){var e=document.activeElement;X.current.contains(e)&&(null==e||e.blur())}}})),n.useEffect((function(){p&&J.current.focus(0)}),[]);var Le=n.useMemo((function(){return{min:ee,max:te,direction:Z,disabled:s,keyboard:c,step:ne,included:k,includedStart:Ne,includedEnd:Be,range:S,tabIndex:Q,ariaLabelForHandle:z,ariaLabelledByForHandle:K,ariaValueTextFormatterForHandle:Y}}),[ee,te,Z,s,c,ne,k,Ne,Be,S,Q,z,K,Y]);return n.createElement(co.Provider,{value:Le},n.createElement("div",{ref:X,className:qi()(i,o,(r={},Ui(r,"".concat(i,"-disabled"),s),Ui(r,"".concat(i,"-vertical"),L),Ui(r,"".concat(i,"-horizontal"),!L),Ui(r,"".concat(i,"-with-marks"),ae.length),r)),style:l,onMouseDown:function(e){e.preventDefault();var t,n=X.current.getBoundingClientRect(),r=n.width,a=n.height,i=n.left,o=n.top,l=n.bottom,d=n.right,s=e.clientX,u=e.clientY;switch(Z){case"btt":t=(l-u)/a;break;case"ttb":t=(u-o)/a;break;case"rtl":t=(d-s)/r;break;default:t=(s-i)/r}ve(le(ee+t*(te-ee)))}},n.createElement("div",{className:"".concat(i,"-rail"),style:U}),n.createElement(So,{prefixCls:i,style:V,values:Ae,startPoint:F,onStartMove:Ie?Pe:null}),n.createElement(xo,{prefixCls:i,marks:ae,dots:H,style:G,activeStyle:_}),n.createElement(Eo,{ref:J,prefixCls:i,style:j,values:Oe,draggingIndex:Ce,onStartMove:Pe,onOffsetChange:function(e,t){if(!s){var n=de(fe,e,t);null==O||O(ge(fe)),be(n.values),null==x||x(ge(n.values)),Ee(n.value)}},onFocus:f,onBlur:m,handleRender:$}),n.createElement(Do,{prefixCls:i,marks:ae,onClick:ve})))}));const To=Po,Ao=e=>({wrapper:xi.css`
      position: relative;
      overflow-y: auto;
    `,loadingBar:xi.css`
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
    `,table:xi.css`
      width: 100%;
    `,td:xi.css`
      padding: 20px;
      vertical-align: top;
    `,margin:xi.css`
      margin: 5px;
    `,button:{center:xi.css`
        display: flex;
        align-items: center;
        justify-content: center;
      `,left:xi.css`
        float: left;
      `,right:xi.css`
        float: right;
      `},confirmTable:xi.css`
      width: 100%;
      border: 1px solid;
      text-align: center;
    `,confirmTableTd:xi.css`
      border: 1px solid;
    `,slider:xi.css`
      .rc-slider {
        margin: 10px 0 0 0;
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${e.colors.primary.main};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
      }
      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle:focus,
      .rc-slider-handle-click-focused:focus,
      .rc-slider-dot-active {
        ${`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`};
      }
      .rc-slider-track {
        background-color: ${e.colors.primary.main};
      }
      .rc-slider-rail {
        background-color: ${e.colors.border.strong};
        cursor: pointer;
      }
    `,sliderInput:xi.css`
      margin-left: 15px;
    `,hidden:xi.css`
      display: none;
    `});function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ro(e,t,n[t])}))}return e}function Bo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Lo=({options:a,elements:i,onChangeElement:o,section:l,initial:d,replaceVariables:s})=>{const u=(0,t.useTheme2)(),c=(0,t.useStyles2)(Ao),p=u.visualization.getColorByName(a.initial.highlightColor||"red"),f=e=>a.initial.highlight&&Object.keys(d).length&&d[e.id]!==e.value?xi.css`
          -webkit-text-fill-color: ${p};
        `:xi.css`
          -webkit-text-fill-color: ${u.colors.text.primary};
        `,m=(0,n.useMemo)((()=>i.filter((e=>e.helpers.showIf({elements:i,replaceVariables:s})))),[i,s]);return r().createElement("div",{"data-testid":E.formElements.root},m.map(((n,a)=>{var i,d;if(!l||n.section===ye(l))return r().createElement(t.InlineFieldRow,{key:a,"data-testid":E.formElements.element(n.id,n.type)},n.type===I.NUMBER&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.Input,{value:n.value||"",onChange:e=>{let t=ge(e.target.value);void 0!==n.max&&null!==n.max&&(t=Math.min(n.max,t||0)),void 0!==n.min&&null!==n.min&&(t=Math.max(n.min,t||0)),o(Bo(No({},n),{value:t}))},type:"number",className:f(n),width:ve(n.width),min:be(n.min),max:be(n.max),"data-testid":E.formElements.fieldNumber})),n.type===I.STRING&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title,className:(0,xi.cx)(n.hidden&&c.hidden)},r().createElement(t.Input,{value:n.value||"",onChange:e=>{o(Bo(No({},n),{value:e.target.value}))},className:f(n),width:ve(n.width),type:"text","data-testid":E.formElements.fieldString})),n.type===I.PASSWORD&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.Input,{value:n.value||"",onChange:e=>{o(Bo(No({},n),{value:e.target.value}))},className:f(n),width:ve(n.width),type:"password","data-testid":E.formElements.fieldPassword})),n.type===I.DISABLED&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,disabled:!0,transparent:!n.title},r().createElement(t.Input,{value:(null===(i=n.options)||void 0===i?void 0:i.length)?null===(d=n.options.find((e=>e.value===n.value)))||void 0===d?void 0:d.label:n.value||"",type:"text",width:ve(n.width),"data-testid":E.formElements.fieldDisabled})),n.type===I.TEXTAREA&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.TextArea,{value:n.value||"",onChange:e=>{o(Bo(No({},n),{value:e.target.value}))},className:f(n),cols:ve(n.width),rows:n.rows,"data-testid":E.formElements.fieldTextarea})),n.type===I.CODE&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.CodeEditor,{language:n.language||g.JAVASCRIPT,showLineNumbers:!0,showMiniMap:(n.value&&n.value.length)>100,value:n.value||"",height:n.height||"200px",width:ve(n.width),onBlur:e=>{o(Bo(No({},n),{value:e}))},monacoOptions:{formatOnPaste:!0,formatOnType:!0},"aria-label":E.formElements.fieldCode})),n.type===I.BOOLEAN&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title,"data-testid":E.formElements.fieldBooleanContainer},r().createElement(t.RadioButtonGroup,{value:n.value,onChange:e=>{o(Bo(No({},n),{value:e}))},className:f(n),fullWidth:!n.width,options:S})),n.type===I.DATETIME&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.DateTimePicker,{minDate:n.min?new Date(n.min):void 0,maxDate:n.max?new Date(n.max):void 0,date:(0,e.dateTime)(n.value),onChange:e=>{o(Bo(No({},n),{value:e.toISOString()}))},"data-testid":E.formElements.fieldDateTime})),n.type===I.SLIDER&&null!=n.value&&r().createElement(r().Fragment,null,r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title,className:(0,xi.cx)(c.slider)},r().createElement(To,{value:n.value||0,onChange:e=>{o(Bo(No({},n),{value:Array.isArray(e)?e[e.length-1]:e}))},min:n.min||0,max:n.max||0,step:n.step||0,ariaLabelForHandle:E.formElements.fieldSlider})),r().createElement(t.InlineField,{className:(0,xi.cx)(c.sliderInput)},r().createElement(t.Input,{type:"number",width:8,min:n.min||0,max:n.max||0,value:n.value||0,onChange:e=>{o(Bo(No({},n),{value:Math.max(n.min||0,Math.min(n.max||0,Number(e.currentTarget.value)))}))},"data-testid":E.formElements.fieldSliderInput}))),n.type===I.RADIO&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title,"data-testid":E.formElements.fieldRadioContainer},r().createElement(t.RadioButtonGroup,{value:n.value,onChange:e=>{o(Bo(No({},n),{value:e}))},fullWidth:!n.width,options:n.options||[],className:f(n)})),(n.type===I.SELECT||n.type===I.MULTISELECT)&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.Select,{isMulti:n.type===I.MULTISELECT,"aria-label":E.formElements.fieldSelect,value:void 0!==n.value?n.value:null,onChange:e=>{o(Bo(No({},n),{value:Array.isArray(e)?e.map((({value:e})=>e)):e.value}))},width:ve(n.width),options:n.options||[],className:f(n)})),n.type===I.FILE&&r().createElement(t.InlineField,{label:n.title,grow:!n.width,labelWidth:ve(n.labelWidth),tooltip:n.tooltip,transparent:!n.title},r().createElement(t.FileDropzone,{options:{accept:n.accept||void 0,multiple:!0,onDrop:e=>{o(Bo(No({},n),{value:e}))}},onFileRemove:e=>{o(Bo(No({},n),{value:n.value.filter((t=>t.name!==e.file.name))}))},"data-testid":E.formElements.fieldFile})),n.unit&&r().createElement(t.InlineLabel,{"data-testid":E.formElements.unit,transparent:!0,width:4},n.unit))})))};function Mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Mo(e,t,n[t])}))}return e}function Fo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Vo=({onSave:e,elements:a})=>{const[i,o]=(0,n.useState)(L),[l,d]=(0,n.useState)(null),s=(0,n.useCallback)((e=>{o(e),d(null)}),[]),u=(0,n.useCallback)((()=>{me(a,i)?d("Element with the same Id and Type already exists"):(e(fe(Ie(i),i.type)),o(L))}),[a,i,e]);return r().createElement(t.CollapsableSection,{label:"New Element",isOpen:!0,headerDataTestId:E.formElementsEditor.sectionNewLabel,contentDataTestId:E.formElementsEditor.sectionNewContent},r().createElement(t.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===i.id},r().createElement(t.Input,{placeholder:"Id",onChange:e=>{s(Fo(ko({},i),{id:e.target.value}))},value:i.id,"data-testid":E.formElementsEditor.newElementId})),r().createElement(t.InlineField,{label:"Label",grow:!0,labelWidth:8,invalid:""===i.title},r().createElement(t.Input,{placeholder:"Label",onChange:e=>{s(Fo(ko({},i),{title:e.target.value}))},value:i.title,"data-testid":E.formElementsEditor.newElementLabel})),r().createElement(t.InlineField,{label:"Type",grow:!0,labelWidth:8},r().createElement(t.Select,{"aria-label":E.formElementsEditor.newElementType,options:w,onChange:e=>{var t;s(Fo(ko({},i),{type:null===(t=e)||void 0===t?void 0:t.value}))},value:w.find((e=>e.value===i.type))})),!!l&&r().createElement(t.Alert,{"data-testid":E.formElementsEditor.addElementError,severity:"error",title:"Add Element"},l),r().createElement(t.Button,{variant:"secondary",onClick:u,disabled:!i.id||!i.type||!!l,icon:"plus","data-testid":E.formElementsEditor.buttonAddElement},"Add Element"))};function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jo(e,t,n[t])}))}return e}function Go(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const _o=({value:e,onChange:a,context:i})=>{var o,l,d,s;const u=(x=(0,t.useTheme2)(),{item:xi.css`
      margin-bottom: ${x.spacing(1)};
    `,dragIcon:xi.css`
      cursor: grab;
      color: ${x.colors.text.disabled};
      margin: ${x.spacing(0,.5)};
      &:hover {
        color: ${x.colors.text};
      }
    `,removeButton:xi.css`
      margin-left: ${x.spacing(1)};
      color: ${x.colors.text.secondary};
    `}),[c,p]=(0,n.useState)({}),{elements:f,isChanged:m,onSaveUpdates:g,onChangeElements:b,onChangeElement:v,onChangeElementOption:h,onElementRemove:y}=Ne(a,e),I=(null===(l=i.options)||void 0===l||null===(o=l.initial)||void 0===o?void 0:o.method)===U.QUERY,w=(({data:e,isEnabled:t})=>(0,n.useMemo)((()=>t&&e?e.reduce(((e,{fields:t,refId:n})=>e.concat(t.map((e=>({value:e.name,refId:n,label:`${n}:${e.name}`}))))),[]):[]),[e,t]))({data:i.data,isEnabled:I}),S=(0,n.useCallback)((e=>{b(f.concat([e]))}),[f,b]),C=(0,n.useCallback)((e=>{e.destination&&b(pe(f,e.source.index,e.destination.index))}),[f,b]),D=(0,n.useMemo)((()=>{var e,t,n;return(null===(n=i.options)||void 0===n||null===(t=n.layout)||void 0===t||null===(e=t.sections)||void 0===e?void 0:e.map((e=>({value:ye(e),label:ye(e)}))))||[]}),[null===(s=i.options)||void 0===s||null===(d=s.layout)||void 0===d?void 0:d.sections]),O=(0,n.useCallback)((e=>{p((t=>Go(Uo({},t),{[e]:!t[e]})))}),[]);var x;return r().createElement("div",{"data-testid":E.formElementsEditor.root},r().createElement(qa,{onDragEnd:C},r().createElement(Oi,{droppableId:"elements"},(e=>r().createElement("div",Go(Uo({},e.droppableProps),{ref:e.innerRef}),f.map(((e,n)=>{const a=c[e.uid];return r().createElement(wi,{key:e.uid,draggableId:e.uid,index:n},((n,o)=>{var l,d,s;return r().createElement("div",Go(Uo({},n.draggableProps),{ref:n.innerRef,style:(o.isDragging,s=n.draggableProps.style,Uo({},s)),className:u.item}),r().createElement(Ti,{headerTestId:E.formElementsEditor.sectionLabel(e.id,e.type),contentTestId:E.formElementsEditor.sectionContent(e.id,e.type),isOpen:a,onToggle:()=>O(e.uid),title:r().createElement(r().Fragment,null,e.title," [",e.id,"]"),actions:r().createElement(r().Fragment,null,r().createElement(t.IconButton,{name:"trash-alt",variant:"secondary",size:"sm",className:u.removeButton,"data-testid":E.formElementsEditor.buttonRemoveElement,onClick:()=>y(he(e))}),r().createElement(t.Icon,Uo({title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:u.dragIcon},n.dragHandleProps)))},r().createElement(Vi,{element:e,onChange:v,layoutSectionOptions:D,initialMethod:null===(d=i.options)||void 0===d||null===(l=d.initial)||void 0===l?void 0:l.method,onChangeOption:h,queryFields:w,isQueryFieldsEnabled:I})))}))})),e.placeholder)))),m&&r().createElement(t.Button,{onClick:g,"data-testid":E.formElementsEditor.buttonSaveChanges},"Save changes"),r().createElement("hr",null),r().createElement(Vo,{elements:f,onSave:S}))},Wo=()=>({animation:(0,xi.keyframes)({"0%":{transform:"translateX(-50%)"},"100%":{transform:"translateX(100%)"}}),bar:(0,xi.css)({width:"28%",height:1,background:"linear-gradient(90deg, rgba(110, 159, 255, 0) 0%, #6E9FFF 80.75%, rgba(110, 159, 255, 0) 100%)"})}),Ho=({width:e,ariaLabel:n="Loading bar"})=>{const a=(0,t.useStyles2)(Wo),i=Math.min(Math.max(Math.round(2.4*e),500),4e3),o={width:"100%",animation:`${a.animation} ${i}ms infinite linear`,willChange:"transform"};return r().createElement("div",{style:o},r().createElement("div",{"aria-label":n,className:a.bar}))};function $o(e,t,n,r,a,i,o){try{var l=e[i](o),d=l.value}catch(e){return void n(e)}l.done?t(d):Promise.resolve(d).then(r,a)}function qo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){$o(i,r,a,o,l,"next",e)}function l(e){$o(i,r,a,o,l,"throw",e)}o(void 0)}))}}function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qo(e,t,n[t])}))}return e}function Ko(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Yo=({value:e,onChange:n})=>(e&&e.length||(e=[]),r().createElement("div",{"data-testid":E.headerParametersEditor.root},e.map(((a,i)=>r().createElement(t.InlineFieldRow,{key:i,"data-testid":E.headerParametersEditor.parameter(a.name)},r().createElement(t.InlineField,{label:"Name",labelWidth:8,invalid:""===a.name},r().createElement(t.Input,{placeholder:"name",onChange:t=>{a.name=t.target.value,n(e)},value:a.name,"data-testid":E.headerParametersEditor.fieldName})),r().createElement(t.InlineField,{label:"Value",labelWidth:8,grow:!0},r().createElement(t.Input,{placeholder:"value",onChange:t=>{a.value=t.target.value,n(e)},type:"password",value:a.value,"data-testid":E.headerParametersEditor.fieldValue})),r().createElement(t.Button,{variant:"secondary",onClick:()=>{e=e.filter((e=>e.name!==a.name)),n(e)},icon:"trash-alt","data-testid":E.headerParametersEditor.buttonRemove})))),r().createElement(t.Button,{variant:"secondary",onClick:()=>{e.push({name:"",value:""}),n(e)},icon:"plus","data-testid":E.headerParametersEditor.buttonAdd},"Add Parameter")));function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jo(e,t,n[t])}))}return e}function Zo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const el=({value:e,onChange:a})=>{const i=(0,n.useMemo)((()=>Array.isArray(e)?e.map((e=>Zo(Xo({},e),{id:ye(e)}))):[]),[e]),o=(0,n.useCallback)(((e,t=e.id)=>{a(i.map((n=>n.id===t?e:n)))}),[a,i]),l=(0,n.useCallback)((e=>{a(i.filter((t=>t.id!==e.id)))}),[a,i]),d=(0,n.useMemo)((()=>i.some((e=>""===e.id))),[i]);return r().createElement("div",{"data-testid":E.layoutSectionsEditor.root},i.map(((e,n)=>r().createElement(t.InlineFieldRow,{key:n,"data-testid":E.layoutSectionsEditor.section(e.id)},r().createElement(t.InlineField,{label:"Id",grow:!0,labelWidth:8,invalid:""===e.id},r().createElement(t.Input,{placeholder:"id",onChange:t=>{const n=Zo(Xo({},e),{id:t.target.value||""}),r=!((e,t)=>e.some((e=>e.id===t.id)))(i,n);r&&o(n,e.id)},value:e.id,"data-testid":E.layoutSectionsEditor.fieldId})),r().createElement(t.InlineField,{label:"Name",grow:!0,labelWidth:8},r().createElement(t.Input,{placeholder:"name",onChange:t=>{o(Zo(Xo({},e),{name:t.target.value}))},value:e.name,"data-testid":E.layoutSectionsEditor.fieldName})),r().createElement(t.Button,{variant:"secondary",onClick:()=>{l(e)},icon:"trash-alt","data-testid":E.layoutSectionsEditor.buttonRemove})))),r().createElement(t.Button,{variant:"secondary",onClick:()=>{a(i.concat({id:"",name:""}))},icon:"plus","data-testid":E.layoutSectionsEditor.buttonAdd,disabled:d},"Add Section"))},tl=new e.PanelPlugin((({options:i,width:l,height:d,onOptionsChange:s,eventBus:u,replaceVariables:c,data:p})=>{var f,m,g,b,v,h;const[y,w]=(0,n.useState)(O.INITIAL),[S,C]=(0,n.useState)(""),[D,x]=(0,n.useState)(""),[P,T]=(0,n.useState)({}),[A,R]=(0,n.useState)(!1),N=ee(),{canAddAnnotations:B}=(0,t.usePanelContext)(),L=(0,n.useMemo)((()=>!!B&&B()),[B]),M=(0,n.useCallback)((e=>{s(Ko(zo({},i),{elements:e}))}),[s,i]),{elements:V,onChangeElement:j,onChangeElements:G,onSaveUpdates:_}=Ne(M,i.elements,!1),H=(0,t.useTheme2)(),q=(0,t.useStyles2)(Ao),z=(0,a.getTemplateSrv)(),K=(0,a.getAppEvents)(),Y=t=>K.publish({type:e.AppEvents.alertSuccess.name,payload:t}),J=t=>K.publish({type:e.AppEvents.alertError.name,payload:t}),X=t=>K.publish({type:e.AppEvents.alertWarning.name,payload:t}),Z=(0,n.useCallback)(((e,t)=>V.map((n=>{const r=t===U.QUERY?n.queryField:{value:n.fieldName},a=e.filter((e=>{var t;return!(null===(t=r)||void 0===t?void 0:t.refId)||e.refId===r.refId})).reduce(((e,{fields:t})=>{var n;return(null===(n=t)||void 0===n?void 0:n.find((e=>{var t;return e.name===(null===(t=r)||void 0===t?void 0:t.value)})))||e}),void 0);if(a){const e=(e=>e?e.values.toArray?e.values.toArray():e.values:[])(a);return Ko(zo({},n),{value:e[e.length-1]})}return n}))),[V]),te=function(){var e=qo((function*({code:e,initial:t,response:n,initialRequest:r,currentElements:o}){if(!e)return;const l=new Function("options","data","response","elements","onChange","locationService","templateService","onOptionsChange","initialRequest","setInitial","json","initial","notifyError","notifySuccess","notifyWarning","toDataQueryResponse",c(e));try{yield l(i,p,n,o||V,G,a.locationService,z,s,r,T,t,t,J,Y,X,a.toDataQueryResponse)}catch(e){C(e.toString())}}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=qo((function*(){C(""),w(O.INITIAL);let e,t=V;if(!V.length||i.initial.method===U.NONE||i.initial.method===U.QUERY)return i.initial.method===U.QUERY&&(t=Z(p.series,U.QUERY)),G(t),T((e=>e.reduce(((e,t)=>ce(ue({},e),{[t.id]:t.value})),{}))(t)),yield te({code:i.initial.code,initial:P,currentElements:t}),void w(O.NONE);let n=null;if(i.initial.method===U.DATASOURCE){if(!i.initial.datasource)return C("Please select Data Source for Initial Request."),void w(O.NONE);const n=Ce({request:Ko(zo({},i.initial),{payloadMode:$.CUSTOM}),elements:V,initial:P});if(e=yield N({query:n,datasource:i.initial.datasource,replaceVariables:c}).catch((e=>{C(JSON.stringify(e))})),e&&e.ok){const n=(0,a.toDataQueryResponse)(e);t=Z(n.data,U.DATASOURCE),G(t),T(t)}}else{var r,o,l;if(!i.initial.url)return C("Please select URL for Initial Request."),void w(O.NONE);const a=new Headers;if(i.initial.method===U.POST&&a.set("Content-Type",i.initial.contentType),null===(r=i.initial.header)||void 0===r||r.forEach((e=>{const t=c(e.name);t?a.set(t,c(e.value)):C("All request parameters should be defined. Remove empty parameters.")})),e=yield fetch(c(i.initial.url,void 0,encodeURIComponent),{method:i.initial.method,headers:a}).catch((e=>{C(e.toString())})),"opaque"===(null===(o=e)||void 0===o?void 0:o.type)&&C("CORS prevents access to the response for Initial values."),null===(l=e)||void 0===l?void 0:l.ok){var d;n=yield e.json();const r=(null===(d=i.elements)||void 0===d?void 0:d.reduce(((e,t)=>Ko(zo({},e),{[t.id]:void 0!==n[t.id]?n[t.id]:t.value})),{}))||{};t=V.map((e=>{var{value:t}=e,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["value"]);return Ko(zo({},n),{value:r[n.id]})})),G(t),T(zo({},n,r)),x("Values updated.")}}yield te({code:i.initial.code,initial:n,response:e,currentElements:t}),w(O.NONE)}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=qo((function*(){i.resetAction.mode!==Q.INITIAL?(w(O.RESET),yield te({code:i.resetAction.code,initial:P}),w(O.NONE)):yield ne()}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=qo((function*(){if(C(""),w(O.UPDATE),i.update.method===U.NONE)return yield te({code:i.update.code,initial:P,initialRequest:ne}),void w(O.NONE);const e=Ce({request:i.update,elements:V,initial:P});let t;if(i.update.method===U.DATASOURCE)t=yield N({query:e,datasource:i.update.datasource,replaceVariables:c}).catch((e=>{C(JSON.stringify(e))}));else{var n,r;const a=new Headers;let o;a.set("Content-Type",i.update.contentType),null===(n=i.update.header)||void 0===n||n.forEach((e=>{const t=c(e.name);t?a.set(t,c(e.value)):C("All request parameters should be defined. Remove empty parameters.")})),o=i.update.contentType===W.FORMDATA&&e instanceof Object?((e,t)=>{const n=new FormData;return Object.entries(e).forEach((([e,r])=>{Array.isArray(r)?r.forEach(((r,a)=>{n.set(`${e}[${a}]`,Te(r,t))})):n.set(e,Te(r,t))})),n})(e,c):yield Oe(e,c),t=yield fetch(c(i.update.url,void 0,encodeURIComponent),{method:i.update.method,headers:a,body:o}).catch((e=>{C(e.toString())})),(null===(r=t)||void 0===r?void 0:r.ok)&&x(t.toString())}yield te({code:i.update.code,initial:P,response:t,initialRequest:ne}),w(O.NONE)}));return function(){return e.apply(this,arguments)}}();(0,n.useEffect)((()=>{ne();const e=u.getStream(a.RefreshEvent).subscribe((()=>{ne()}));return()=>{e.unsubscribe()}}),[i.initial,p]);const ie=(0,n.useMemo)((()=>{for(let e of V)if(e.value!==P[e.id])return!0;return!1}),[V,P]);return r().createElement("div",{"data-testid":E.panel.root,className:(0,xi.cx)(q.wrapper,xi.css`
          width: ${l}px;
          height: ${d}px;
          padding: ${i.layout.padding}px;
        `)},y===O.INITIAL&&r().createElement("div",{className:q.loadingBar,"data-testid":E.panel.loadingBar},r().createElement(Ho,{width:l})),!V.length&&i.layout.variant!==k.NONE&&r().createElement(t.Alert,{"data-testid":E.panel.infoMessage,severity:"info",title:"Form Elements"},"Please add elements in Panel Options or Custom Code."),r().createElement("table",{className:q.table},r().createElement("tbody",null,i.layout.variant===k.SINGLE&&r().createElement("tr",null,r().createElement("td",{"data-testid":E.panel.singleLayoutContent},r().createElement(Lo,{options:i,elements:V,onChangeElement:j,initial:P,section:null,replaceVariables:c}))),i.layout.variant===k.SPLIT&&i.layout.orientation!==F.VERTICAL&&r().createElement("tr",null,null===(m=i.layout)||void 0===m||null===(f=m.sections)||void 0===f?void 0:f.map(((e,n)=>r().createElement("td",{className:q.td,key:n,"data-testid":E.panel.splitLayoutContent(e.name)},r().createElement(t.FieldSet,{label:e.name},r().createElement(Lo,{options:i,elements:V,onChangeElement:j,initial:P,section:e,replaceVariables:c})))))),i.layout.variant===k.SPLIT&&i.layout.orientation===F.VERTICAL&&r().createElement(r().Fragment,null,null===(b=i.layout)||void 0===b||null===(g=b.sections)||void 0===g?void 0:g.map(((e,n)=>r().createElement("tr",{key:n},r().createElement("td",{className:q.td,"data-testid":E.panel.splitLayoutContent(e.name)},r().createElement(t.FieldSet,{label:e.name},r().createElement(Lo,{options:i,elements:V,onChangeElement:j,initial:P,section:e,replaceVariables:c}))))))),r().createElement("tr",null,r().createElement("td",{colSpan:null===(h=i.layout)||void 0===h||null===(v=h.sections)||void 0===v?void 0:v.length},r().createElement(t.ButtonGroup,{className:(0,xi.cx)(q.button[i.buttonGroup.orientation])},r().createElement(t.Button,{className:(0,xi.cx)(q.margin),variant:i.submit.variant,icon:y===O.UPDATE?"fa fa-spinner":i.submit.icon,title:D,style:i.submit.variant===o.CUSTOM?{background:"none",border:"none",backgroundColor:H.visualization.getColorByName(i.submit.backgroundColor),color:H.visualization.getColorByName(i.submit.foregroundColor)}:{},disabled:!!y||!ie&&i.layout.variant!==k.NONE,onClick:i.update.confirm?()=>{R(!0)}:ae,size:i.buttonGroup.size,"data-testid":E.panel.buttonSubmit},i.submit.text),i.reset.variant!==o.HIDDEN&&r().createElement(t.Button,{className:(0,xi.cx)(q.margin),variant:i.reset.variant,icon:y===O.RESET?"fa fa-spinner":i.reset.icon,style:i.reset.variant===o.CUSTOM?{background:"none",border:"none",backgroundColor:H.visualization.getColorByName(i.reset.backgroundColor),color:H.visualization.getColorByName(i.reset.foregroundColor)}:{},disabled:!!y,onClick:re,size:i.buttonGroup.size,"data-testid":E.panel.buttonReset},i.reset.text),i.saveDefault.variant!==o.HIDDEN&&L&&r().createElement(t.Button,{className:(0,xi.cx)(q.margin),variant:i.saveDefault.variant,icon:i.saveDefault.icon,disabled:!!y,onClick:_,size:i.buttonGroup.size,"data-testid":E.panel.buttonSaveDefault,title:"Save values in the dashboard. Requires to Save dashboard."},i.saveDefault.text)))))),S&&r().createElement(t.Alert,{"data-testid":E.panel.errorMessage,severity:"error",title:"Request"},S),r().createElement(t.ConfirmModal,{isOpen:A,title:"Confirm update request",body:r().createElement("div",{"data-testid":E.panel.confirmModalContent},r().createElement("h4",null,"Please confirm to update changed values?"),r().createElement("table",{className:q.confirmTable},r().createElement("thead",null,r().createElement("tr",{className:q.confirmTable},r().createElement("td",{className:q.confirmTableTd},r().createElement("b",null,"Label")),r().createElement("td",{className:q.confirmTableTd},r().createElement("b",null,"Old Value")),r().createElement("td",{className:q.confirmTableTd},r().createElement("b",null,"New Value")))),r().createElement("tbody",null,V.map((t=>{if(t.value===P[t.id])return;if(t.type===I.DISABLED)return;if(t.type===I.PASSWORD)return r().createElement("tr",{className:q.confirmTable,key:t.id,"data-testid":E.panel.confirmModalField(t.id)},r().createElement("td",{className:q.confirmTableTd,"data-testid":E.panel.confirmModalFieldTitle},t.title||t.tooltip),r().createElement("td",{className:q.confirmTableTd,"data-testid":E.panel.confirmModalFieldPreviousValue},"*********"),r().createElement("td",{className:q.confirmTableTd,"data-testid":E.panel.confirmModalFieldValue},"*********"));let n=t.value;return t.type===I.DATETIME&&(n=(0,e.dateTime)(t.value).toISOString()),r().createElement("tr",{className:q.confirmTable,key:t.id,"data-testid":E.panel.confirmModalField(t.id)},r().createElement("td",{className:q.confirmTableTd,"data-testid":E.panel.confirmModalFieldTitle},t.title||t.tooltip),r().createElement("td",{className:q.confirmTableTd,"data-testid":E.panel.confirmModalFieldPreviousValue},void 0===P[t.id]?"":String(P[t.id])),r().createElement("td",{className:q.confirmTableTd,"data-testid":E.panel.confirmModalFieldValue},void 0===n?"":String(n)))}))))),confirmText:"Confirm",onConfirm:()=>{ae(),R(!1)},onDismiss:()=>R(!1)}))})).setNoPadding().setPanelOptions((e=>{const n=e=>e.method!==U.NONE,r=e=>e.method!==U.NONE&&e.method!==U.DATASOURCE&&e.method!==U.QUERY;return e.addRadio({path:"layout.variant",name:"Layout",category:["Layout"],settings:{options:V},defaultValue:k.SINGLE}).addSliderInput({path:"layout.padding",name:"Padding",category:["Layout"],defaultValue:10,settings:{min:0,max:20}}),e.addCustomEditor({id:"layout.sections",path:"layout.sections",name:"Sections",category:["Sections"],editor:el,showIf:e=>e.layout.variant===k.SPLIT}).addRadio({path:"layout.orientation",name:"Orientation",category:["Sections"],settings:{options:j},defaultValue:F.HORIZONTAL,showIf:e=>e.layout.variant===k.SPLIT}),e.addCustomEditor({id:"elements",path:"elements",name:"Form Elements",category:["Form Elements"],description:"Form Elements",editor:_o,showIf:e=>e.layout.variant!==k.NONE}),e.addRadio({path:"initial.method",name:"Initial Request",category:["Initial Request"],settings:{options:G},defaultValue:U.NONE}).addTextInput({path:"initial.url",name:"URL",category:["Initial Request"],description:"The URL to call. Leave empty to skip Initial Request.",settings:{placeholder:"http://"},showIf:e=>r(e.initial)}).addCustomEditor({id:"initial.header",path:"initial.header",name:"Header Parameters",category:["Initial Request"],editor:Yo,showIf:e=>r(e.initial)}).addCustomEditor({id:"initial.datasource",path:"initial.datasource",name:"Data Source",category:["Initial Request"],editor:Be,showIf:e=>e.initial.method===U.DATASOURCE}).addSelect({path:"initial.contentType",name:"Content-Type",category:["Initial Request"],description:"Content-Type of the payload",defaultValue:W.JSON,settings:{allowCustomValue:!0,options:H},showIf:e=>e.initial.method===U.POST}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute initial request.",editor:K,category:["Initial Request"],settings:{language:g.JAVASCRIPT,suggestions:!0},defaultValue:P,showIf:e=>!n(e.initial)}).addCustomEditor({id:"initial.code",path:"initial.code",name:"Custom Code",description:"Custom code to execute after initial request.",editor:K,category:["Initial Request"],settings:{language:g.JAVASCRIPT,suggestions:!0},defaultValue:P,showIf:e=>n(e.initial)}),e.addCustomEditor({id:"initial.getPayload",path:"initial.getPayload",name:"Create Payload",description:"Custom code to create payload for the initial data source request.",editor:K,category:["Initial Request Payload"],settings:{language:g.JAVASCRIPT},defaultValue:"return {\n  rawSql: '',\n  format: 'table',\n}",showIf:e=>e.initial.method===U.DATASOURCE&&!!e.initial.datasource}),e.addRadio({path:"initial.highlight",name:"Highlight Changes",description:"Some elements are not supporting highlighting.",category:["Highlight Changes"],settings:{options:[{value:!0,label:"Enabled"},{value:!1,label:"Disabled"}]},defaultValue:!1,showIf:e=>e.layout.variant!==k.NONE}).addColorPicker({path:"initial.highlightColor",name:"Color",category:["Highlight Changes"],defaultValue:"red",settings:{disableNamedColors:!0},showIf:e=>e.initial.highlight&&e.layout.variant!==k.NONE}),e.addRadio({path:"update.method",name:"Update Request",category:["Update Request"],settings:{options:_},defaultValue:U.NONE}).addTextInput({path:"update.url",name:"URL",category:["Update Request"],description:"The URL to call",settings:{placeholder:"http://"},showIf:e=>n(e.update)&&r(e.update)}).addCustomEditor({id:"update.datasource",path:"update.datasource",name:"Data Source",category:["Update Request"],editor:Be,showIf:e=>e.update.method===U.DATASOURCE}).addCustomEditor({id:"update.header",path:"update.header",name:"Header Parameters",category:["Update Request"],editor:Yo,showIf:e=>n(e.update)&&r(e.update)}).addSelect({path:"update.contentType",name:"Content-Type",category:["Update Request"],description:"Content-Type of the payload",defaultValue:W.JSON,settings:{allowCustomValue:!0,options:H},showIf:e=>n(e.update)&&r(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute after update request.",editor:K,category:["Update Request"],settings:{language:g.JAVASCRIPT},defaultValue:T,showIf:e=>n(e.update)}).addCustomEditor({id:"update.code",path:"update.code",name:"Custom Code",description:"Custom code to execute update request.",editor:K,category:["Update Request"],settings:{language:g.JAVASCRIPT},defaultValue:T,showIf:e=>!n(e.update)}).addRadio({path:"update.confirm",name:"Confirmation",description:"Ask to confirm updated values.",category:["Update Request"],settings:{options:[{value:!1,label:"No"},{value:!0,label:"Require"}]},defaultValue:!1,showIf:e=>e.layout.variant!==k.NONE}),e.addRadio({path:"update.payloadMode",name:"Update Request Payload",description:"Choose what values will be included in payload.",category:["Update Request Payload"],settings:{options:q},defaultValue:$.ALL,showIf:e=>n(e.update)&&e.layout.variant!==k.NONE}).addCustomEditor({id:"update.getPayload",path:"update.getPayload",name:"Create Payload",description:"Custom code to create payload for the update request.",editor:K,category:["Update Request Payload"],settings:{language:g.JAVASCRIPT},defaultValue:"const payload = {};\n\nelements.forEach((element) => {\n  if (!element.value) {\n    return;\n  }\n\n  payload[element.id] = element.value;\n})\n\nreturn payload;\n\n/**\n * Data Source payload\n */ \nreturn {\n  rawSql: '',\n  format: 'table',\n};",showIf:e=>n(e.update)&&e.update.payloadMode===$.CUSTOM}),e.addRadio({path:"buttonGroup.orientation",name:"Orientation",category:["Buttons"],description:"Buttons orientation on the form",settings:{options:u},defaultValue:s.CENTER}).addRadio({path:"buttonGroup.size",name:"Size",category:["Buttons"],description:"Buttons size on the form",settings:{options:m},defaultValue:f.MEDIUM}),e.addRadio({path:"submit.variant",name:"Submit Button",category:["Submit Button"],description:"Button variant",settings:{options:d},defaultValue:o.PRIMARY}).addColorPicker({path:"submit.foregroundColor",name:"Foreground Color",category:["Submit Button"],description:"Foreground color of the button",defaultValue:"yellow",settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===o.CUSTOM}).addColorPicker({path:"submit.backgroundColor",name:"Background Color",category:["Submit Button"],description:"Background color of the button",defaultValue:"purple",settings:{disableNamedColors:!0},showIf:e=>e.submit.variant===o.CUSTOM}).addSelect({path:"submit.icon",name:"Icon",category:["Submit Button"],settings:{options:(0,t.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:"cloud-upload"}).addTextInput({path:"submit.text",name:"Text",category:["Submit Button"],description:"The text on the button",defaultValue:"Submit"}),e.addRadio({path:"reset.variant",name:"Reset Button",category:["Reset Button"],description:"Button variant",settings:{options:[...l,...d]},defaultValue:o.HIDDEN}).addColorPicker({path:"reset.foregroundColor",name:"Foreground Color",category:["Reset Button"],description:"Foreground color of the button",defaultValue:"yellow",settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===o.CUSTOM}).addColorPicker({path:"reset.backgroundColor",name:"Background Color",category:["Reset Button"],description:"Background color of the button",defaultValue:"purple",settings:{disableNamedColors:!0},showIf:e=>e.reset.variant===o.CUSTOM}).addSelect({path:"reset.icon",name:"Icon",category:["Reset Button"],settings:{options:(0,t.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:"process",showIf:e=>e.reset.variant!==o.HIDDEN}).addTextInput({path:"reset.text",name:"Text",category:["Reset Button"],description:"The text on the button",defaultValue:"Reset",showIf:e=>e.reset.variant!==o.HIDDEN}),e.addRadio({path:"resetAction.mode",name:"Reset Action",category:["Reset request"],description:"What action should be called by clicking on reset button.",settings:{options:z},defaultValue:Q.INITIAL,showIf:e=>e.reset.variant!==o.HIDDEN}).addCustomEditor({id:"resetAction.code",path:"resetAction.code",name:"Custom Code",description:"Custom code to execute reset request.",editor:K,category:["Reset request"],settings:{language:g.JAVASCRIPT},defaultValue:"console.log(data, response, initial, elements);",showIf:e=>e.reset.variant!==o.HIDDEN&&e.resetAction.mode===Q.CUSTOM}),e.addRadio({path:"saveDefault.variant",name:"Save Default Button",category:["Save Default Button"],description:"Button variant",settings:{options:[...l,{value:o.SECONDARY,label:"Auto"}]},defaultValue:o.HIDDEN}).addSelect({path:"saveDefault.icon",name:"Icon",category:["Save Default Button"],settings:{options:(0,t.getAvailableIcons)().map((e=>({value:e,label:e})))},defaultValue:"save",showIf:e=>e.saveDefault.variant!==o.HIDDEN}).addTextInput({path:"saveDefault.text",name:"Text",category:["Save Default Button"],description:"The text on the button",defaultValue:"Save Default",showIf:e=>e.saveDefault.variant!==o.HIDDEN}),e}))})(),p})()));
//# sourceMappingURL=module.js.map